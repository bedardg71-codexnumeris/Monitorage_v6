<!DOCTYPE html>
<html>
<head>
    <title>Debug Groupe</title>
</head>
<body>
    <h1>Debug Groupe d'étudiants</h1>
    <button onclick="verifierDonnees()">Vérifier les données</button>
    <button onclick="viderDonnees()">Vider les données</button>
    <pre id="output" style="background: #f5f5f5; padding: 20px; margin-top: 20px;"></pre>

    <script>
        function verifierDonnees() {
            const output = document.getElementById('output');
            const groupeEtudiants = localStorage.getItem('groupeEtudiants');

            output.textContent = 'DONNÉES DANS LOCALSTORAGE:\n\n';

            if (!groupeEtudiants) {
                output.textContent += 'Aucune donnée dans localStorage.groupeEtudiants\n';
            } else {
                output.textContent += 'Données brutes:\n' + groupeEtudiants + '\n\n';

                try {
                    const etudiants = JSON.parse(groupeEtudiants);
                    output.textContent += `Nombre d'étudiants: ${etudiants.length}\n\n`;
                    output.textContent += 'Étudiants:\n';
                    etudiants.forEach((e, i) => {
                        output.textContent += `${i + 1}. ${e.nom}, ${e.prenom} (DA: ${e.da}, Groupe: ${e.groupe})\n`;
                    });
                } catch (error) {
                    output.textContent += 'ERREUR DE PARSING: ' + error.message;
                }
            }
        }

        function viderDonnees() {
            if (confirm('Voulez-vous vraiment vider les données ?')) {
                localStorage.removeItem('groupeEtudiants');
                alert('Données vidées');
                verifierDonnees();
            }
        }

        // Vérification automatique au chargement
        verifierDonnees();
    </script>
</body>
</html>
