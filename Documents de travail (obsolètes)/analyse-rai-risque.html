<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analyse R√†I vs Risque - Groupe TEST</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: #f5f7fa;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.1);
        }

        h1 {
            color: #0066cc;
            margin-bottom: 10px;
            font-size: 2rem;
        }

        .subtitle {
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }

        .stat-card.green {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }

        .stat-card.orange {
            background: linear-gradient(135deg, #ee9ca7 0%, #ffdde1 100%);
            color: #333;
        }

        .stat-card h3 {
            font-size: 0.9rem;
            margin-bottom: 10px;
            opacity: 0.9;
        }

        .stat-card .number {
            font-size: 2.5rem;
            font-weight: bold;
        }

        .section {
            margin-bottom: 40px;
        }

        .section-title {
            background: linear-gradient(90deg, #0066cc, #004c99);
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 1.3rem;
        }

        .alert {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 4px;
        }

        .alert.info {
            background: #d1ecf1;
            border-left-color: #17a2b8;
        }

        .alert.success {
            background: #d4edda;
            border-left-color: #28a745;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            font-size: 0.9rem;
        }

        th {
            background: #0066cc;
            color: white;
            padding: 12px 8px;
            text-align: left;
            font-weight: 600;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        td {
            padding: 10px 8px;
            border-bottom: 1px solid #e0e0e0;
        }

        tr:hover {
            background: #f8f9fa;
        }

        .highlight {
            background: #fff9e6 !important;
        }

        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 0.85rem;
            font-weight: 600;
            white-space: nowrap;
        }

        .risque-minimal {
            background: #e3f2fd;
            color: #1976d2;
        }

        .risque-faible {
            background: #c8e6c9;
            color: #2e7d32;
        }

        .risque-modere {
            background: #fff9e6;
            color: #f57c00;
        }

        .risque-eleve {
            background: #ffe0b2;
            color: #e65100;
        }

        .risque-tres-eleve {
            background: #ffcdd2;
            color: #c62828;
        }

        .risque-critique {
            background: #f5f5f5;
            color: #424242;
        }

        .rai-1 {
            background: #c8e6c9;
            color: #2e7d32;
        }

        .rai-2 {
            background: #fff9e6;
            color: #f57c00;
        }

        .rai-3 {
            background: #ffcdd2;
            color: #c62828;
        }

        .pattern {
            font-style: italic;
            color: #666;
        }

        .filters {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
        }

        .filters label {
            font-weight: 600;
            margin-right: 5px;
        }

        .filters select, .filters input {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 0.9rem;
        }

        .legend {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }

        .explication {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .explication h4 {
            color: #0066cc;
            margin-bottom: 10px;
        }

        .explication ul {
            margin-left: 20px;
        }

        .explication li {
            margin-bottom: 5px;
        }

        .numero {
            background: #0066cc;
            color: white;
            width: 24px;
            height: 24px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .defi {
            font-weight: 600;
            color: #c62828;
        }

        @media print {
            body {
                background: white;
            }
            .container {
                box-shadow: none;
            }
            th {
                position: static;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìä Analyse R√†I vs Risque d'√©chec</h1>
        <p class="subtitle">Groupe TEST - 30 √©tudiants - Bas√© sur les logs du 31 octobre 2025</p>

        <!-- Statistiques globales -->
        <div class="stats-grid">
            <div class="stat-card">
                <h3>Total √©tudiants</h3>
                <div class="number">30</div>
            </div>
            <div class="stat-card green">
                <h3>Risques faibles<br>(minimal + faible)</h3>
                <div class="number">13</div>
                <small>43% du groupe</small>
            </div>
            <div class="stat-card orange">
                <h3>R√†I Niveau 2<br>(Cibl√©)</h3>
                <div class="number">22</div>
                <small>73% du groupe</small>
            </div>
        </div>

        <!-- Alerte principale -->
        <div class="alert">
            <strong>üéØ Question cl√© :</strong> Comment 13 √©tudiants peuvent avoir un risque faible ET √™tre en R√†I niveau 2 ?
            <br><br>
            <strong>R√©ponse :</strong> Le R√†I niveau 2 est une <strong>intervention pr√©ventive et cibl√©e</strong>.
            Ces √©tudiants ont un bon dossier global (risque faible) mais un <strong>d√©fi sp√©cifique identifi√©</strong>
            (ex: Structure √† 60% vs autres crit√®res √† 75%). L'intervention vise √† corriger ce d√©fi AVANT qu'il ne devienne bloquant.
        </div>

        <!-- Section 1 : Tableau complet -->
        <div class="section">
            <h2 class="section-title">üìã Tableau complet : Tous les √©tudiants (30)</h2>

            <div class="legend">
                <div><strong>L√©gende Risque :</strong></div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #e3f2fd;"></div>
                    <span>üîµ Minimal (‚â§20%)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #c8e6c9;"></div>
                    <span>üü¢ Faible (20-30%)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #fff9e6;"></div>
                    <span>üü° Mod√©r√© (30-40%)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #ffe0b2;"></div>
                    <span>üü† √âlev√© (40-50%)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #ffcdd2;"></div>
                    <span>üî¥ Tr√®s √©lev√© (50-70%)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #f5f5f5;"></div>
                    <span>‚ö´ Critique (>70%)</span>
                </div>
            </div>

            <div class="filters">
                <label>Filtrer par Risque:</label>
                <select id="filterRisque" onchange="filtrerTableau()">
                    <option value="">Tous</option>
                    <option value="minimal">Minimal</option>
                    <option value="faible">Faible</option>
                    <option value="modere">Mod√©r√©</option>
                    <option value="eleve">√âlev√©</option>
                    <option value="tres-eleve">Tr√®s √©lev√©</option>
                    <option value="critique">Critique</option>
                </select>

                <label>Filtrer par R√†I:</label>
                <select id="filterRai" onchange="filtrerTableau()">
                    <option value="">Tous</option>
                    <option value="1">Niveau 1</option>
                    <option value="2">Niveau 2</option>
                    <option value="3">Niveau 3</option>
                </select>

                <label>Filtrer par Pattern:</label>
                <select id="filterPattern" onchange="filtrerTableau()">
                    <option value="">Tous</option>
                    <option value="D√©fi sp√©cifique">D√©fi sp√©cifique</option>
                    <option value="Stable">Stable</option>
                </select>

                <label style="margin-left: auto;">
                    <input type="checkbox" id="highlightRisqueFaibleRai2" onchange="highlightCas()">
                    Surligner Risque faible + R√†I 2
                </label>
            </div>

            <table id="tableauPrincipal">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>DA</th>
                        <th>Mobilisation</th>
                        <th>Risque</th>
                        <th>Pattern</th>
                        <th>D√©fi principal</th>
                        <th>R√†I</th>
                        <th>Intervention recommand√©e</th>
                    </tr>
                </thead>
                <tbody id="tableauBody">
                    <!-- Donn√©es inject√©es par JavaScript -->
                </tbody>
            </table>
        </div>

        <!-- Section 2 : Focus sur les cas -->
        <div class="section">
            <h2 class="section-title">üéØ Focus : Risque FAIBLE + R√†I Niveau 2 (11 cas)</h2>

            <div class="explication">
                <h4>üí° Pourquoi ces √©tudiants sont-ils en R√†I niveau 2 malgr√© un risque faible ?</h4>
                <ul>
                    <li><strong>Bon dossier global</strong> : Assiduit√©, compl√©tion et performance g√©n√©rale sont satisfaisantes (risque ‚â§ 30%)</li>
                    <li><strong>MAIS un d√©fi sp√©cifique identifi√©</strong> : Un crit√®re (Structure, Rigueur, Nuance) est significativement plus faible que les autres</li>
                    <li><strong>Intervention pr√©ventive</strong> : Corriger ce d√©fi AVANT qu'il ne devienne un blocage</li>
                    <li><strong>Approche cibl√©e</strong> : Pratique guid√©e sur le crit√®re faible uniquement</li>
                </ul>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>DA</th>
                        <th>Risque</th>
                        <th>D√©fi identifi√©</th>
                        <th>Intervention</th>
                        <th>Explication d√©taill√©e</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>2484602</td>
                        <td><span class="badge risque-faible">Faible</span></td>
                        <td><span class="defi">Structure</span></td>
                        <td>Pratique guid√©e en Structure</td>
                        <td>Structure √† 60% vs autres crit√®res √† 70-75%. Besoin de renforcement cibl√©.</td>
                    </tr>
                    <tr>
                        <td>6374822</td>
                        <td><span class="badge risque-faible">Faible</span></td>
                        <td><span class="defi">Rigueur</span></td>
                        <td>Pratique guid√©e en Rigueur</td>
                        <td>Rigueur √† 69% (crit√®re le plus faible). Performance r√©cente stable √† 71%.</td>
                    </tr>
                    <tr>
                        <td>2544831</td>
                        <td><span class="badge risque-faible">Faible</span></td>
                        <td><span class="defi">Nuance</span></td>
                        <td>Pratique guid√©e en Nuance</td>
                        <td>Nuance √† 62% (un artefact √† 40%). Autres crit√®res satisfaisants.</td>
                    </tr>
                    <tr>
                        <td>2537055</td>
                        <td><span class="badge risque-faible">Faible</span></td>
                        <td><span class="defi">Rigueur</span></td>
                        <td>Pratique guid√©e en Rigueur</td>
                        <td>Rigueur √† 68%. Un artefact √† 40% d√©tect√© dans l'historique.</td>
                    </tr>
                    <tr class="highlight">
                        <td>2543959</td>
                        <td><span class="badge risque-faible">Faible</span></td>
                        <td><span class="defi">Stagnation</span></td>
                        <td>Suivi r√©gulier (pr√©ventif)</td>
                        <td><strong>CAS PARTICULIER :</strong> Stable √† 75.5% sans progression. Soutien pour √©viter r√©gression.</td>
                    </tr>
                    <tr>
                        <td>2537057</td>
                        <td><span class="badge risque-faible">Faible</span></td>
                        <td><span class="defi">Nuance</span></td>
                        <td>Pratique guid√©e en Nuance</td>
                        <td>Nuance √† 62% (un artefact √† 40%). Fran√ßais moyen √† 82.5%.</td>
                    </tr>
                    <tr>
                        <td>2551601</td>
                        <td><span class="badge risque-faible">Faible</span></td>
                        <td><span class="defi">Structure</span></td>
                        <td>Pratique guid√©e en Structure</td>
                        <td>Structure √† 66% (un artefact √† 40%). Autres crit√®res √† 65-75%.</td>
                    </tr>
                    <tr>
                        <td>2544906</td>
                        <td><span class="badge risque-faible">Faible</span></td>
                        <td><span class="defi">Nuance</span></td>
                        <td>Pratique guid√©e en Nuance</td>
                        <td>Nuance √† 67%. Performance r√©cente √† 72.7%.</td>
                    </tr>
                    <tr>
                        <td>2538843</td>
                        <td><span class="badge risque-faible">Faible</span></td>
                        <td><span class="defi">Structure</span></td>
                        <td>Pratique guid√©e en Structure</td>
                        <td>Structure √† 68% (un artefact √† 40%). Fran√ßais excellent √† 87.5%.</td>
                    </tr>
                    <tr>
                        <td>2545736</td>
                        <td><span class="badge risque-faible">Faible</span></td>
                        <td><span class="defi">Rigueur</span></td>
                        <td>Pratique guid√©e en Rigueur</td>
                        <td>Rigueur √† 67%. Performance r√©cente √† 70.2%.</td>
                    </tr>
                    <tr>
                        <td>2588397</td>
                        <td><span class="badge risque-faible">Faible</span></td>
                        <td><span class="defi">Structure</span></td>
                        <td>Pratique guid√©e en Structure</td>
                        <td>Structure √† 62% (un artefact √† 40%). Fran√ßais moyen √† 65%.</td>
                    </tr>
                </tbody>
            </table>

            <div class="alert success">
                <strong>‚úÖ R√©partition des d√©fis (11 cas) :</strong>
                <ul style="margin-top: 10px; margin-left: 20px;">
                    <li><strong>Structure</strong> : 5 √©tudiants (45%)</li>
                    <li><strong>Rigueur</strong> : 3 √©tudiants (27%)</li>
                    <li><strong>Nuance</strong> : 3 √©tudiants (27%)</li>
                    <li><strong>Stagnation</strong> : 1 √©tudiant (9%) - Cas particulier</li>
                </ul>
            </div>
        </div>

        <!-- Section 3 : Observations et questions -->
        <div class="section">
            <h2 class="section-title">üîç Observations et points de discussion</h2>

            <div class="alert info">
                <h4 style="margin-bottom: 10px;">üìå Observation 1 : Pr√©dominance du "D√©fi sp√©cifique"</h4>
                <p><strong>73% des √©tudiants (22/30)</strong> ont le pattern "D√©fi sp√©cifique"</p>
                <p><strong>Question :</strong> Est-ce normal d'avoir autant d'√©tudiants avec un d√©fi sp√©cifique ? Ou cela r√©v√®le-t-il une sensibilit√© excessive du syst√®me ?</p>
                <p style="margin-top: 10px;"><strong>Hypoth√®ses :</strong></p>
                <ul style="margin-left: 20px;">
                    <li>Les seuils d'identification des d√©fis sont peut-√™tre trop sensibles (ex: 5-10% d'√©cart suffit)</li>
                    <li>OU c'est r√©aliste : la plupart des √©tudiants ont effectivement un crit√®re plus faible</li>
                </ul>
            </div>

            <div class="alert info">
                <h4 style="margin-bottom: 10px;">üìå Observation 2 : Structure est le d√©fi le plus fr√©quent</h4>
                <p><strong>5 des 11 cas</strong> avec risque faible + R√†I 2 ont Structure comme d√©fi principal</p>
                <p><strong>Question :</strong> Cela refl√®te-t-il une difficult√© r√©elle du groupe en Structure ? Ou un probl√®me de calibration de ce crit√®re ?</p>
                <p style="margin-top: 10px;"><strong>√Ä v√©rifier :</strong></p>
                <ul style="margin-left: 20px;">
                    <li>Les scores Structure sont-ils syst√©matiquement plus bas que les autres crit√®res ?</li>
                    <li>La grille d'√©valuation Structure est-elle plus exigeante ?</li>
                    <li>Les √©tudiants re√ßoivent-ils assez d'enseignement explicite sur la Structure ?</li>
                </ul>
            </div>

            <div class="alert info">
                <h4 style="margin-bottom: 10px;">üìå Observation 3 : Impact des artefacts √† 40%</h4>
                <p>Plusieurs √©tudiants ont <strong>un seul artefact √† 40%</strong> (niveau I = Insuffisant) qui fait baisser leur moyenne</p>
                <p><strong>Question :</strong> Un seul artefact faible devrait-il suffire √† d√©clencher une intervention R√†I 2 ?</p>
                <p style="margin-top: 10px;"><strong>Options possibles :</strong></p>
                <ul style="margin-left: 20px;">
                    <li>Garder la logique actuelle (d√©tection pr√©coce des difficult√©s)</li>
                    <li>Exiger 2 artefacts faibles sur le m√™me crit√®re avant intervention</li>
                    <li>Pond√©rer par la tendance (si l'artefact √† 40% est ancien et suivi d'am√©liorations, ignorer)</li>
                </ul>
            </div>

            <div class="alert info">
                <h4 style="margin-bottom: 10px;">üìå Observation 4 : Aucun √©tudiant en "Progression"</h4>
                <p><strong>0 √©tudiant</strong> identifi√© avec le pattern "En progression"</p>
                <p><strong>Question :</strong> Les crit√®res pour identifier une progression sont-ils trop stricts ?</p>
                <p style="margin-top: 10px;"><strong>√Ä investiguer :</strong></p>
                <ul style="margin-left: 20px;">
                    <li>Quel est le seuil actuel pour d√©tecter une progression ?</li>
                    <li>Combien d'artefacts cons√©cutifs doivent montrer am√©lioration ?</li>
                    <li>Certains √©tudiants progressent-ils sans √™tre d√©tect√©s ?</li>
                </ul>
            </div>

            <div class="alert success">
                <h4 style="margin-bottom: 10px;">‚úÖ Point positif : Coh√©rence du mod√®le</h4>
                <p>Les 4 √©tudiants avec <strong>risque minimal</strong> sont TOUS en <strong>R√†I niveau 1</strong> (pratique autonome)</p>
                <p>Cela d√©montre que le syst√®me fait bien la distinction entre :</p>
                <ul style="margin-left: 20px;">
                    <li>√âtudiants excellents sans d√©fi ‚Üí R√†I 1 ‚úÖ</li>
                    <li>√âtudiants bons avec d√©fi sp√©cifique ‚Üí R√†I 2 ‚úÖ</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // Donn√©es des √©tudiants
        const etudiants = [
            { num: 1, da: "2484602", mobilisation: "Favorable", risque: "faible", risqueLabel: "Faible", pattern: "D√©fi sp√©cifique", defi: "Structure", rai: 2, intervention: "Pratique guid√©e en Structure" },
            { num: 2, da: "2545079", mobilisation: "Acceptable", risque: "eleve", risqueLabel: "√âlev√©", pattern: "D√©fi sp√©cifique", defi: "Nuance", rai: 2, intervention: "Pratique guid√©e en Nuance" },
            { num: 3, da: "2544963", mobilisation: "Acceptable", risque: "eleve", risqueLabel: "√âlev√©", pattern: "D√©fi sp√©cifique", defi: "Rigueur", rai: 2, intervention: "Pratique guid√©e en Rigueur" },
            { num: 4, da: "2548270", mobilisation: "Acceptable", risque: "modere", risqueLabel: "Mod√©r√©", pattern: "D√©fi sp√©cifique", defi: "Fran√ßais", rai: 2, intervention: "Rem√©diation en r√©vision linguistique" },
            { num: 5, da: "6374822", mobilisation: "Favorable", risque: "faible", risqueLabel: "Faible", pattern: "D√©fi sp√©cifique", defi: "Rigueur", rai: 2, intervention: "Pratique guid√©e en Rigueur" },
            { num: 6, da: "2544707", mobilisation: "Compl√©tion critique", risque: "critique", risqueLabel: "Critique", pattern: "D√©fi sp√©cifique", defi: "Plausibilit√©", rai: 3, intervention: "Intervention intensive" },
            { num: 7, da: "2544831", mobilisation: "Favorable", risque: "faible", risqueLabel: "Faible", pattern: "D√©fi sp√©cifique", defi: "Nuance", rai: 2, intervention: "Pratique guid√©e en Nuance" },
            { num: 8, da: "2544979", mobilisation: "Favorable", risque: "minimal", risqueLabel: "Minimal", pattern: "Stable", defi: "Nuance", rai: 1, intervention: "Pratique autonome" },
            { num: 9, da: "2537055", mobilisation: "Favorable", risque: "faible", risqueLabel: "Faible", pattern: "D√©fi sp√©cifique", defi: "Rigueur", rai: 2, intervention: "Pratique guid√©e en Rigueur" },
            { num: 10, da: "2564910", mobilisation: "Favorable", risque: "faible", risqueLabel: "Faible", pattern: "Stable", defi: "Aucun", rai: 1, intervention: "Pratique autonome" },
            { num: 11, da: "2538242", mobilisation: "Favorable", risque: "minimal", risqueLabel: "Minimal", pattern: "Stable", defi: "Aucun", rai: 1, intervention: "Pratique autonome" },
            { num: 12, da: "2385627", mobilisation: "Assiduit√© ET compl√©tion critiques", risque: "critique", risqueLabel: "Critique", pattern: "D√©fi sp√©cifique", defi: "Rigueur", rai: 3, intervention: "Intervention intensive" },
            { num: 13, da: "2543959", mobilisation: "Favorable", risque: "faible", risqueLabel: "Faible", pattern: "Stable", defi: "Nuance", rai: 2, intervention: "Suivi r√©gulier (stagnation)" },
            { num: 14, da: "2537057", mobilisation: "Favorable", risque: "faible", risqueLabel: "Faible", pattern: "D√©fi sp√©cifique", defi: "Nuance", rai: 2, intervention: "Pratique guid√©e en Nuance" },
            { num: 15, da: "2544883", mobilisation: "Favorable", risque: "modere", risqueLabel: "Mod√©r√©", pattern: "D√©fi sp√©cifique", defi: "Structure", rai: 2, intervention: "Pratique guid√©e en Structure" },
            { num: 16, da: "2551601", mobilisation: "Favorable", risque: "faible", risqueLabel: "Faible", pattern: "D√©fi sp√©cifique", defi: "Structure", rai: 2, intervention: "Pratique guid√©e en Structure" },
            { num: 17, da: "2537051", mobilisation: "Acceptable", risque: "modere", risqueLabel: "Mod√©r√©", pattern: "Stable", defi: "Aucun", rai: 2, intervention: "Soutien pr√©ventif (stagnation)" },
            { num: 18, da: "2544578", mobilisation: "Favorable", risque: "minimal", risqueLabel: "Minimal", pattern: "Stable", defi: "Aucun", rai: 1, intervention: "Pratique autonome" },
            { num: 19, da: "2544906", mobilisation: "Favorable", risque: "faible", risqueLabel: "Faible", pattern: "D√©fi sp√©cifique", defi: "Nuance", rai: 2, intervention: "Pratique guid√©e en Nuance" },
            { num: 20, da: "2538843", mobilisation: "Favorable", risque: "faible", risqueLabel: "Faible", pattern: "D√©fi sp√©cifique", defi: "Structure", rai: 2, intervention: "Pratique guid√©e en Structure" },
            { num: 21, da: "2545736", mobilisation: "Favorable", risque: "faible", risqueLabel: "Faible", pattern: "D√©fi sp√©cifique", defi: "Rigueur", rai: 2, intervention: "Pratique guid√©e en Rigueur" },
            { num: 22, da: "2544537", mobilisation: "Compl√©tion critique", risque: "tres-eleve", risqueLabel: "Tr√®s √©lev√©", pattern: "D√©fi sp√©cifique", defi: "Nuance", rai: 3, intervention: "Intervention intensive" },
            { num: 23, da: "6306386", mobilisation: "Acceptable", risque: "eleve", risqueLabel: "√âlev√©", pattern: "Stable", defi: "Structure", rai: 2, intervention: "Rem√©diation en Structure" },
            { num: 24, da: "2479737", mobilisation: "Compl√©tion critique", risque: "tres-eleve", risqueLabel: "Tr√®s √©lev√©", pattern: "D√©fi sp√©cifique", defi: "Rigueur", rai: 3, intervention: "Intervention intensive" },
            { num: 25, da: "2588397", mobilisation: "Favorable", risque: "faible", risqueLabel: "Faible", pattern: "D√©fi sp√©cifique", defi: "Structure", rai: 2, intervention: "Pratique guid√©e en Structure" },
            { num: 26, da: "2544599", mobilisation: "Favorable", risque: "minimal", risqueLabel: "Minimal", pattern: "Stable", defi: "Structure", rai: 1, intervention: "Pratique autonome" },
            { num: 27, da: "2544569", mobilisation: "Acceptable", risque: "modere", risqueLabel: "Mod√©r√©", pattern: "D√©fi sp√©cifique", defi: "Nuance", rai: 2, intervention: "Pratique guid√©e en Nuance" },
            { num: 28, da: "2476199", mobilisation: "Acceptable", risque: "eleve", risqueLabel: "√âlev√©", pattern: "D√©fi sp√©cifique", defi: "Nuance", rai: 2, intervention: "Pratique guid√©e en Nuance" },
            { num: 29, da: "2581353", mobilisation: "Acceptable", risque: "tres-eleve", risqueLabel: "Tr√®s √©lev√©", pattern: "D√©fi sp√©cifique", defi: "Structure", rai: 3, intervention: "Intervention intensive" },
            { num: 30, da: "6345433", mobilisation: "Acceptable", risque: "tres-eleve", risqueLabel: "Tr√®s √©lev√©", pattern: "D√©fi sp√©cifique", defi: "Structure", rai: 3, intervention: "Intervention intensive" }
        ];

        // Fonction pour g√©n√©rer le tableau
        function afficherTableau(data = etudiants) {
            const tbody = document.getElementById('tableauBody');
            tbody.innerHTML = data.map(e => {
                const risqueClass = `risque-${e.risque}`;
                const raiClass = `rai-${e.rai}`;
                const highlightClass = (e.risque === 'faible' || e.risque === 'minimal') && e.rai === 2 ? 'highlight' : '';

                return `
                    <tr class="${highlightClass}" data-risque="${e.risque}" data-rai="${e.rai}" data-pattern="${e.pattern}">
                        <td><span class="numero">${e.num}</span></td>
                        <td><strong>${e.da}</strong></td>
                        <td>${e.mobilisation}</td>
                        <td><span class="badge ${risqueClass}">${e.risqueLabel}</span></td>
                        <td class="pattern">${e.pattern}</td>
                        <td><strong>${e.defi}</strong></td>
                        <td><span class="badge ${raiClass}">Niveau ${e.rai}</span></td>
                        <td>${e.intervention}</td>
                    </tr>
                `;
            }).join('');
        }

        // Fonction pour filtrer le tableau
        function filtrerTableau() {
            const filterRisque = document.getElementById('filterRisque').value;
            const filterRai = document.getElementById('filterRai').value;
            const filterPattern = document.getElementById('filterPattern').value;

            let filtered = etudiants;

            if (filterRisque) {
                filtered = filtered.filter(e => e.risque === filterRisque);
            }
            if (filterRai) {
                filtered = filtered.filter(e => e.rai === parseInt(filterRai));
            }
            if (filterPattern) {
                filtered = filtered.filter(e => e.pattern === filterPattern);
            }

            afficherTableau(filtered);
        }

        // Fonction pour surligner les cas sp√©cifiques
        function highlightCas() {
            const checked = document.getElementById('highlightRisqueFaibleRai2').checked;
            const rows = document.querySelectorAll('#tableauPrincipal tbody tr');

            if (checked) {
                rows.forEach(row => {
                    const risque = row.dataset.risque;
                    const rai = parseInt(row.dataset.rai);
                    if ((risque === 'faible' || risque === 'minimal') && rai === 2) {
                        row.classList.add('highlight');
                    }
                });
            } else {
                rows.forEach(row => row.classList.remove('highlight'));
            }
        }

        // Initialiser le tableau au chargement
        afficherTableau();
    </script>
</body>
</html>
