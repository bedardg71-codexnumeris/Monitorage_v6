050-Demande

CONTEXTE : Application de monitorage pédagogique (index3.html). Nous avons développé plusieurs onglets dans la sous-navigation des Réglages. Ces sections servent à définir des paramètres qui serviront dans les sections Étudiant·es, Présences, Évaluations. Nous sommes présentement dans l'onglet sous-nav «Horaire» de la nav principale «Réglages».

OBJECTIF :
Il n'y a pas de bouton pour ajouter une plage horaire de disponibilité. Il faut en créer un.
Le formulaire existe déjà, mais il est caché par défaut.

ZONES AUTORISÉES : NE PAS toucher aux autres éléments de contenu

NOMS STABLES : Respecter et conserver tous les noms dans NOMS_STABLES.json - AUCUN renommage

CODE : 

                <!-- Sous-section : Horaire -->
                <div id="reglages-horaire" class="sous-section">
                    <h2>Configuration de l'horaire</h2>
                    <p class="text-muted">Définissez le format horaire hebdomadaire de vos séances de cours</p>

                    <!-- Sélecteur de format horaire -->
                    <div class="carte" style="margin-bottom: 20px;">
                        <h3>Format des cours</h3>
                        <select class="controle-form" id="formatHoraire" onchange="changerFormatHoraire()">
                            <option value="">Choisir...</option>
                            <option value="2x2">2 séances de 2h séparées</option>
                            <option value="1x4">1 séance de 4h consécutives</option>
                        </select>
                    </div><!--fin carte-->

                    <div class="carte">
                        <h3>Horaire des séances</h3>

                        <!-- Conteneur pour les séances existantes -->
                        <div id="seancesContainer" style="margin-bottom: 20px;">
                            <p class="text-muted" style="font-style: italic;">Aucune séance configurée.</p>
                        </div>

                        <!-- Formulaire d'ajout (caché par défaut) -->
                        <div id="formAjoutSeance"
                            style="display: none; padding: 15px; background: var(--bleu-pale); border: 1px solid var(--bleu-leger); border-radius: 6px; margin-bottom: 20px;">
                            <strong style="color: var(--bleu-principal);">Nouvelle séance de cours</strong>

                            <div id="seancesFormContainer" style="margin-top: 15px;">
                                <!-- Le contenu sera généré dynamiquement selon le format horaire -->
                            </div>

                            <div class="btn-groupe mt-2" style="justify-content: flex-end;">
                                <button class="btn btn-annuler" onclick="annulerAjoutSeance()">Annuler</button>
                                <button class="btn btn-confirmer" id="btnConfirmerSeances"
                                    onclick="confirmerAjoutSeances()">Ajouter les séances</button>
                            </div>
                        </div>

                        <button id="btnAjouterSeance" class="btn btn-ajouter" onclick="afficherFormulaireSeances()">+
                            Ajouter une séance de cours</button>
                    </div><!--fin carte-->

                    <!-- Disponibilités de l'enseignant -->
                    <div class="carte mt-3">
                        <h3>Disponibilités de l'enseignant·e</h3>
                        <p class="text-muted" style="font-size: 0.85rem;">Périodes où vous êtes disponible pour
                            rencontrer les étudiant·es</p>

                        <!-- Conteneur pour les disponibilités existantes -->
                        <div id="disponibilitesContainer" style="margin-bottom: 20px;">
                            <p class="text-muted" style="font-style: italic;">Aucune disponibilité configurée.
                            </p>
                        </div>

                        <!-- Formulaire d'ajout disponibilité (caché par défaut) -->
                        <div id="formAjoutDisponibilite"
                            style="display: none; padding: 15px; background: var(--vert-pale); border: 1px solid var(--vert-leger); border-radius: 6px; margin-bottom: 20px;">
                            <strong style="color: var(--vert-leger);">Nouvelle période de disponibilité</strong>

                            <div
                                style="display: grid; grid-template-columns: 1.5fr 1fr 1fr 0.8fr; gap: 10px; margin-top: 15px; align-items: end;">
                                <div class="groupe-form">
                                    <label style="font-size: 0.85rem;">Jour de la semaine</label>
                                    <select class="controle-form" id="jourDisponibilite">
                                        <option>Choisir...</option>
                                        <option>Lundi</option>
                                        <option>Mardi</option>
                                        <option>Mercredi</option>
                                        <option>Jeudi</option>
                                        <option>Vendredi</option>
                                    </select>
                                </div>
                                <div class="groupe-form">
                                    <label style="font-size: 0.85rem;">Heure début</label>
                                    <input type="time" class="controle-form" id="debutDisponibilite">
                                </div>
                                <div class="groupe-form">
                                    <label style="font-size: 0.85rem;">Heure fin</label>
                                    <input type="time" class="controle-form" id="finDisponibilite">
                                </div>
                                <div class="groupe-form">
                                    <label style="font-size: 0.85rem;">Local</label>
                                    <input type="text" class="controle-form" id="localDisponibilite"
                                        placeholder="Ex: Bureau local 2314">
                                </div>
                            </div>

                            <div class="btn-groupe mt-2" style="justify-content: flex-end;">
                                <button class="btn btn-annuler" onclick="annulerAjoutDisponibilite()">Annuler</button>
                                <button class="btn btn-confirmer" onclick="confirmerAjoutDisponibilite()">Ajouter la
                                    disponibilité</button>
                            </div>


                            <button id="btnAjouterDisponibilite" class="btn btn-ajouter"
                                onclick="afficherFormulaireDisponibilite()">+ Ajouter une période de
                                disponibilité</button>
                        </div><!--fin formulaire dispo-->
                    </div><!--fin dispo-->
                </div><!--fin horaire-->

ATTENDU : 

FORMAT : Patch minimal uniquement