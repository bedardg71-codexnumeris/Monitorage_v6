052-Demande

CONTEXTE : Application de monitorage p√©dagogique (index3.html). Nous avons d√©velopp√© plusieurs onglets dans la sous-navigation des R√©glages. Ces sections servent √† d√©finir des param√®tres qui serviront dans les sections √âtudiant¬∑es, Pr√©sences, √âvaluations. Nous sommes pr√©sentement dans l'onglet sous-nav ¬´Calendrier¬ª de la nav principale ¬´R√©glages¬ª.

OBJECTIF :
Je voudrais avoir un bouton de sauvegarde et une confirmation notifi√©e de la sauvegarde. Le design est d√©crit dans CSS (index35).js

ZONES AUTORIS√âES : NE PAS toucher aux autres √©l√©ments de contenu

NOMS STABLES : Respecter et conserver tous les noms dans NOMS_STABLES.json - AUCUN renommage

CODE : 

                <!-- Sous-section : Calendrier -->
                <div id="reglages-calendrier" class="sous-section">
                    <h2>Configuration du calendrier</h2>
                    <p class="text-muted">Afin de construire le calendrier du trimestre, indiquez ici le d√©but
                        et la
                        fin
                        des cours et du trimestre, les cong√©s pr√©vus par la direction des √©tudes, ajoutez les
                        cong√©s
                        impr√©vus qui
                        surviennent au cours du trimestre, etc.</p>

                    <!-- CADRE R√âGULIER -->
                    <div class="carte">
                        <h3>üìÜ Cadre r√©gulier</h3>

                        <!-- Petites m√©triques simples -->
                        <div class="grille-statistiques" style="margin-bottom: 20px;">
                            <div class="carte-metrique">
                                <strong id="nombreSemaines">15</strong>
                                <span>Semaines</span>
                            </div>
                            <div class="carte-metrique">
                                <strong id="totalConges">0</strong>
                                <span>Cong√©s</span>
                            </div>
                        </div>

                        <h4 class="mt-2">Bornes du trimestre</h4>
                        <div class="grille-statistiques">
                            <div class="groupe-form">
                                <label>D√©but du trimestre :</label>
                                <input type="date" class="controle-form" id="debutTrimestre" value="2025-08-21">
                            </div>
                            <div class="groupe-form">
                                <label>Fin des cours r√©guliers :</label>
                                <input type="date" class="controle-form" id="finCours" value="2025-12-12">
                            </div>
                            <div class="groupe-form">
                                <label>Fin du trimestre :</label>
                                <input type="date" class="controle-form" id="finTrimestre" value="2025-12-22">
                            </div>
                            <div class="groupe-form">
                                <label>Remise des notes :</label>
                                <input type="date" class="controle-form" id="remiseNotes" value="2025-12-22">
                            </div>
                        </div>

                        <!-- Semaine de Planification - RESTE IDENTIQUE -->
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 20px;">
                            <!-- COLONNE GAUCHE: Semaine de planification -->
                            <div>
                                <h4>Semaine de planification et de mise √† jour</h4>
                                <div style="display: flex; gap: 10px; align-items: center;">
                                    <div class="groupe-form" style="flex: 1;">
                                        <label>Du :</label>
                                        <input type="date" class="controle-form" id="semainePlanificationDebut"
                                            value="2025-10-13">
                                    </div>
                                    <span style="padding-top: 20px;">au</span>
                                    <div class="groupe-form" style="flex: 1;">
                                        <label>&nbsp;</label>
                                        <input type="date" class="controle-form" id="semainePlanificationFin"
                                            value="2025-10-17">
                                    </div>
                                </div>
                            </div>

                            <!-- COLONNE DROITE: Semaine d'examens -->
                            <div>
                                <h4>Semaine d'examens</h4>
                                <div style="display: flex; gap: 10px; align-items: center;">
                                    <div class="groupe-form" style="flex: 1;">
                                        <label>Du :</label>
                                        <input type="date" class="controle-form" id="semaineExamensDebut"
                                            value="2025-12-15">
                                    </div>
                                    <span style="padding-top: 20px;">au</span>
                                    <div class="groupe-form" style="flex: 1;">
                                        <label>&nbsp;</label>
                                        <input type="date" class="controle-form" id="semaineExamensFin"
                                            value="2025-12-22">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Bouton de sauvegarde pour cette carte -->
                        <div class="btn-groupe mt-3">
                            <button class="btn btn-confirmer" onclick="sauvegarderBornesTrimestre()">
                                üíæ Sauvegarder les bornes
                            </button>
                        </div>
                    </div><!-- FIN de la carte "Cadre r√©gulier" -->

                    <!-- AM√âNAGEMENTS -->
                    <div class="carte mt-3">
                        <h3>üìÖ Am√©nagements</h3>

                        <h4 class="mt-2">Cong√©s f√©ri√©s et activit√©s institutionnelles</h4>
                        <p class="text-muted" style="font-size: 0.85rem;">Cong√©s f√©ri√©s, journ√©es p√©dagogiques,
                            journ√©e Carri√®re, etc. avec leurs reprises √©ventuelles</p>

                        <!-- Tableau des √©v√©nements pr√©vus avec les boutons standards -->
                        <div id="congesPrevusContainer" style="margin-bottom: 20px;">
                            <!-- Le tableau sera g√©n√©r√© ici dynamiquement -->
                        </div>

                        <!-- FORMULAIRE D'AJOUT RESTE IDENTIQUE -->
                        <div id="formAjoutPrevu"
                            style="display: none; padding: 15px; background: var(--vert-pale); border: 1px solid var(--vert-leger); border-radius: 6px; margin-bottom: 20px;">
                            <strong style="color: var(--vert-leger);">Nouvel √©v√©nement pr√©vu</strong>

                            <div
                                style="display: grid; grid-template-columns: 1fr 2fr 1.5fr 1fr; gap: 10px; margin-top: 15px; align-items: end;">
                                <div class="groupe-form">
                                    <label style="font-size: 0.85rem;">Date √©v√©nement</label>
                                    <input type="date" class="controle-form" id="nouvelleDatePrevu">
                                </div>
                                <div class="groupe-form">
                                    <label>Description :</label>
                                    <select class="controle-form" id="nouvelleDescriptionPrevu">
                                        <option>Choisir...</option>
                                        <option>F√™te du travail (f√©ri√©)</option>
                                        <option>Action de gr√¢ce (f√©ri√©)</option>
                                        <option>Journ√©e carri√®re</option>
                                        <option>Vendredi saint (f√©ri√©)</option>
                                        <option>Lundi de P√¢ques (f√©ri√©)</option>
                                        <option>F√™te de la Saint-Patrick (f√©ri√©)</option>
                                    </select>
                                </div>
                                <div class="groupe-form">
                                    <label style="font-size: 0.85rem;">Reprise pr√©vue</label>
                                    <select class="controle-form" id="nouvelHoraireReprisePrevu">
                                        <option>Choisir...</option>
                                        <option>Horaire du lundi</option>
                                        <option>Horaire du mardi</option>
                                        <option>Horaire du mercredi</option>
                                        <option>Horaire du jeudi</option>
                                        <option>Horaire du vendredi</option>
                                    </select>
                                </div>
                                <div class="groupe-form">
                                    <label style="font-size: 0.85rem;">Date reprise</label>
                                    <input type="date" class="controle-form" id="nouvelleDateReprisePrevu">
                                </div>
                            </div>

                            <div class="btn-groupe mt-2" style="justify-content: flex-end;">
                                <button class="btn btn-annuler" onclick="annulerAjoutPrevu()">Annuler</button>
                                <button class="btn btn-confirmer" onclick="confirmerAjoutPrevu()">Ajouter
                                    l'√©v√©nement</button>
                            </div>
                        </div>

                        <button id="btnAjouterPrevu" class="btn btn-ajouter" onclick="afficherFormulaireAjoutPrevu()">
                            + Ajouter un √©v√©nement pr√©vu
                        </button>

                        <h4 class="mt-3">√âv√©nements impr√©vus</h4>
                        <p class="text-muted" style="font-size: 0.85rem;">Maladie, conditions m√©t√©orologiques,
                            urgence,
                            autre, etc.</p>

                        <!-- Tableau des √©v√©nements impr√©vus avec les boutons standards -->
                        <div id="evenementsImprevusContainer" style="margin-bottom: 20px;">
                            <!-- Le tableau sera g√©n√©r√© ici dynamiquement -->
                        </div>

                        <!-- FORMULAIRE √âV√âNEMENT IMPR√âVU RESTE IDENTIQUE -->
                        <div id="formAjoutEvenementImprevu"
                            style="display: none; padding: 15px; background: #fff4e6; border: 2px solid var(--orange-accent); border-radius: 6px; margin-bottom: 20px;">
                            <div style="display: flex; align-items: center; margin-bottom: 10px;">
                                <span
                                    style="color: var(--orange-accent); font-weight: bold; margin-right: 10px;">‚ö†</span>
                                <strong style="color: var(--orange-accent);">Nouvel √©v√©nement impr√©vu</strong>
                            </div>

                            <p style="font-size: 0.75rem; color: #666; margin-bottom: 10px;">
                                Pour les √©v√©nements impr√©vus, la reprise peut √™tre planifi√©e apr√®s coup selon
                                les
                                circonstances.
                            </p>

                            <div
                                style="display: grid; grid-template-columns: 1fr 1.5fr 1.5fr 1fr; gap: 10px; align-items: end;">
                                <div class="groupe-form">
                                    <label style="font-size: 0.85rem;">Date √©v√©nement</label>
                                    <input type="date" class="controle-form" id="nouvelleDateImprevu">
                                </div>
                                <div class="groupe-form">
                                    <label style="font-size: 0.85rem;">Description</label>
                                    <select class="controle-form" id="nouvelleDescriptionImprevu">
                                        <option>Choisir...</option>
                                        <option>Maladie</option>
                                        <option>M√©t√©o</option>
                                        <option>Urgence</option>
                                        <option>Autre</option>
                                    </select>
                                </div>
                                <div class="groupe-form">
                                    <label style="font-size: 0.85rem;">Reprise (optionnelle)</label>
                                    <select class="controle-form" id="nouvelHoraireRepriseImprevu">
                                        <option>Choisir...</option>
                                        <option>Le cours n'est pas repris</option>
                                        <option>Le cours est repris</option>
                                    </select>
                                </div>
                                <div class="groupe-form">
                                    <label style="font-size: 0.85rem;">Date reprise</label>
                                    <input type="date" class="controle-form" id="nouvelleDateRepriseImprevu">
                                </div>
                            </div>

                            <div class="btn-groupe mt-2" style="justify-content: flex-end;">
                                <button class="btn btn-annuler"
                                    onclick="annulerAjoutEvenementImprevu()">Annuler</button>
                                <button class="btn btn-confirmer" onclick="confirmerAjoutEvenementImprevu()">Ajouter
                                    l'√©v√©nement</button>
                            </div>
                        </div>

                        <button id="btnAjouterEvenementImprevu" class="btn btn-ajouter"
                            onclick="afficherFormulaireAjoutEvenementImprevu()">
                            + Ajouter un √©v√©nement impr√©vu
                        </button>

                    </div><!--fin am√©nagement-->

                </div><!--fin calendrier-->

ATTENDU : 

FORMAT : Patch minimal uniquement