047-Demande

CONTEXTE : Application de monitorage pÃ©dagogique (index3.html). Nous avons dÃ©veloppÃ© plusieurs onglets dans la sous-navigation des RÃ©glages. Ces sections servent Ã  dÃ©finir des paramÃ¨tres qui serviront dans les sections Ã‰tudiantÂ·es, PrÃ©sences, Ã‰valuations. Nous sommes prÃ©sentement dans l'onglet sous-nav Â«Ã‰chelles de performanceÂ» de la nav principale Â«RÃ©glagesÂ». 

OBJECTIF :
- Je veux pouvoir nommer les Ã©chelles que je sauvegarde.
- je veux les voir apparaitre dans le menu select avec Â«crÃ©er une nouvelle Ã©chelleÂ»
- je veux les voir apparaitre quand je clique sur le bouton Â«voir les Ã©chellesÂ»
- je veux une notification qui confirme la sauvegarde

Je joins le code de la section Â«critÃ¨resÂ» 
Je veux que la section Â«Ã©chelleÂ» suive le mÃªme gabarit et qu'il soit possible de verrouiller les donnÃ©es de la mÃªme faÃ§on.


ZONES AUTORISÃ‰ES : NE PAS toucher aux autres Ã©lÃ©ments de contenu

NOMS STABLES : Respecter et conserver tous les noms dans NOMS_STABLES.json - AUCUN renommage

CODE : 

                <!-- Sous-section : Grilles de critÃ¨res -->
                <div id="reglages-grille-criteres" class="sous-section">
                    <h2>CritÃ¨res d'Ã©valuation et grilles</h2>
                    <p class="text-muted">CrÃ©er des grilles de critÃ¨res rÃ©utilisables pour Ã©valuer diffÃ©rents types de
                        productions.</p>

                    <!-- CARTE 3 : GRILLES DE CRITÃˆRES -->
                    <div class="carte">
                        <h3>ðŸ“Š Gestion des grilles de critÃ¨res d'Ã©valuation</h3>

                        <!-- SÃ©lecteur d'Ã©valuation -->
                        <div class="groupe-form" style="max-width: 400px; margin-bottom: 20px;">
                            <label>CrÃ©er ou modifier une grille d'Ã©valuation :</label>
                            <select id="selectGrilleTemplate" class="controle-form" onchange="chargerGrilleTemplate()">
                                <option value="">-- Nouvelle grille --</option>
                                <option value="new">âž• CrÃ©er une nouvelle grille</option>
                            </select>
                        </div>

                        <!-- Nom de la grille (visible uniquement en crÃ©ation/Ã©dition) -->
                        <div id="nomGrilleContainer" class="groupe-form"
                            style="max-width: 400px; margin-bottom: 20px; display: none;">
                            <label>Nom de la grille :</label>
                            <input type="text" id="nomGrilleTemplate" class="controle-form"
                                placeholder="Ex: Grille analyse littÃ©raire" onchange="sauvegarderNomGrille()">
                        </div>

                        <!-- Message si aucune Ã©valuation sÃ©lectionnÃ©e -->
                        <div id="aucuneEvalSelectionnee" style="padding: 20px; background: var(--bleu-tres-pale); 
             border-radius: 6px; text-align: center; color: var(--bleu-leger);">
                            <p>CrÃ©ez une nouvelle grille ou sÃ©lectionnez une grille existante Ã  modifier</p>
                        </div>

                        <!-- Conteneur des critÃ¨res (cachÃ© par dÃ©faut) -->
                        <div id="criteresContainer" style="display: none;">
                            <!-- Liste des critÃ¨res existants -->
                            <div id="listeCriteres" style="margin-bottom: 20px;">
                                <!-- Les critÃ¨res seront affichÃ©s ici -->
                            </div>

                            <!-- Formulaire d'ajout de critÃ¨re (cachÃ© par dÃ©faut) -->
                            <div id="formAjoutCritere" style="display: none; padding: 15px; background: var(--bleu-pale); 
                 border: 1px solid var(--bleu-leger); border-radius: 6px; margin-bottom: 20px;">

                                <h4 style="color: var(--bleu-principal); margin-bottom: 15px;">Nouveau critÃ¨re</h4>

                                <div
                                    style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                                    <div class="groupe-form">
                                        <label>Nom du critÃ¨re *</label>
                                        <input type="text" id="critereNom" class="controle-form"
                                            placeholder="Ex: QualitÃ© de l'argumentation">
                                    </div>
                                    <div class="groupe-form">
                                        <label>PondÃ©ration relative (%)</label>
                                        <input type="number" id="criterePonderation" class="controle-form" min="0"
                                            max="100" placeholder="Ex: 25">
                                    </div>
                                </div>

                                <div class="groupe-form" style="margin-bottom: 15px;">
                                    <label>Description</label>
                                    <textarea id="critereDescription" class="controle-form" rows="3"
                                        placeholder="Description dÃ©taillÃ©e du critÃ¨re..."></textarea>
                                </div>

                                <div class="groupe-form" style="margin-bottom: 15px;">
                                    <label>Type de critÃ¨re</label>
                                    <select id="critereType" class="controle-form" onchange="afficherChampFormule()">
                                        <option value="holistique">Holistique (jugement global)</option>
                                        <option value="analytique">Analytique (points par Ã©lÃ©ment)</option>
                                        <option value="algorithmique">Algorithmique (calcul automatique)</option>
                                    </select>
                                </div>

                                <!-- Champ formule (cachÃ© par dÃ©faut) -->
                                <div id="champFormule" class="groupe-form" style="display: none; margin-bottom: 15px;">
                                    <label>Formule de calcul</label>
                                    <input type="text" id="critereFormule" class="controle-form"
                                        placeholder="Ex: (nb_erreurs / nb_mots) * 100">
                                    <small style="color: var(--bleu-leger);">
                                        Pour le franÃ§ais Ã©crit : nombre d'erreurs / nombre de mots
                                    </small>
                                </div>

                                <div class="btn-groupe" style="justify-content: flex-end;">
                                    <button class="btn btn-annuler" onclick="annulerAjoutCritere()">Fermer</button>
                                    <button class="btn btn-principal" onclick="sauvegarderEtFermer()"
                                        style="margin-left: 10px;">
                                        Ajouter et fermer
                                    </button>
                                    <button class="btn btn-confirmer" onclick="sauvegarderCritere()"> <span
                                            id="btnTexteCritere">Ajouter et continuer</span>
                                    </button>
                                </div>
                            </div>

                            <!-- Boutons d'actions -->
                            <div class="btn-groupe" style="justify-content: space-between; margin-bottom: 20px;">
                                <div>
                                    <button id="btnAjouterCritere" class="btn btn-ajouter"
                                        onclick="afficherFormCritere()">
                                        + Ajouter un critÃ¨re
                                    </button>
                                </div>
                                <div>
                                    <button class="btn btn-principal" onclick="afficherGrillesCriteres()"
                                        style="margin-right: 10px;">
                                        ðŸ“‹ Voir les grilles existantes
                                    </button>
                                    <button id="btnDupliquerGrille" class="btn btn-modifier"
                                        onclick="dupliquerGrilleActuelle()" style="margin-right: 10px; display: none;">
                                        ðŸ“‘ Dupliquer cette grille
                                    </button>
                                    <button class="btn btn-confirmer" onclick="enregistrerCommeGrille()">
                                        ðŸ’¾ Sauvegarder cette grille
                                    </button>
                                </div>
                            </div>

                            <!-- Modal pour les modÃ¨les (cachÃ© par dÃ©faut) -->
                            <div id="modalGrilles" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; 
                 background: rgba(0,0,0,0.5); z-index: 1000;">
                                <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); 
                     background: white; padding: 30px; border-radius: 8px; max-width: 600px; width: 90%; 
                     max-height: 80vh; overflow-y: auto;">
                                    <h3 style="margin-bottom: 20px; color: var(--bleu-principal);">Grilles de critÃ¨res
                                        disponibles</h3>

                                    <div id="listeGrilles" style="margin-bottom: 20px;">
                                        <!-- Les modÃ¨les seront affichÃ©s ici -->
                                    </div>

                                    <div class="btn-groupe" style="justify-content: flex-end;">
                                        <button class="btn btn-annuler" onclick="fermerModalGrilles()">Fermer</button>
                                    </div>
                                </div>
                            </div>

                            <!-- RÃ©sumÃ© de la pondÃ©ration -->
                            <div style="margin-top: 20px; padding: 10px; background: var(--bleu-tres-pale); 
                 border-radius: 6px; text-align: right;">
                                <strong>Total des pondÃ©rations : </strong>
                                <span id="totalPonderationCriteres"
                                    style="font-size: 1.2rem; font-weight: bold;">0%</span>
                                <small id="statutPonderationCriteres" style="display: block; margin-top: 5px;"></small>
                            </div>
                        </div>
                    </div>

                </div><!--fin sous-section grille-criteres-->

ATTENDU : 

FORMAT : Patch minimal uniquement