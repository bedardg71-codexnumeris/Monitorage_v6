/* ===============================
   SYSTÈME DE DESIGN - Beta 0.60
   Index: 60 24-10-2025a
   Convention: 100% français
   Palette: "Nuit Élégante" (Terracotta)
   Dernière mise à jour: 24-10-2025
   =============================== */

/* ===============================
   VARIABLES CSS
   =============================== */

:root {
    /* === PALETTE DE COULEURS === */

    /* Bleus - Couleurs principales */
    --bleu-principal: #032e5c;
    --bleu-fonce: #0f1e3a;
    --bleu-moyen: #2a4a8a;
    --bleu-clair: #065dbb;
    --bleu-leger: #6b85b3;
    --bleu-carte: #9fc5e8;
    --bleu-pale: #e8f2fd;
    --bleu-tres-pale: #f0f8ff;
    --bleu-simulation: #0f1e3a;
    --bleu-anonymisation: #1a5266;

    /* Couleurs d'accent */
    --orange-accent: #ff6b35;
    --vert-pale: #f8fef8;
    --vert-doux: #b8d4b8;
    --vert-leger: #2a8a6a;

    /* Couleurs pratiques d'évaluation */
    --som-orange: #ff6f00;
    --pan-bleu: #0277bd;
    --hybride-violet: #9c27b0;

    /* === NAVIGATION === */
    --nav-bg: #f8f9fa;
    --nav-normal: #04376f;
    --nav-hover: #3e98f9;
    --nav-actif: #054a95;
    --nav-bordure-actif: var(--orange-accent);

    /* Navigation - États actifs par mode */
    --nav-actif-normal: #2a4a8a;
    --nav-actif-simulation: #2a3d5a;
    --nav-actif-anonymisation: #2a6a7a;

    /* === SOUS-NAVIGATION === */
    --sous-nav-bg: #e8f2fd;
    --sous-nav-normal: #054a95;
    --sous-nav-hover: #3e98f9;
    --sous-nav-actif: #065dbb;

    /* Sous-navigation - Fonds par mode */
    --sous-nav-bg-normal: #e8f2fd;
    --sous-nav-bg-simulation: #dce8f5;
    --sous-nav-bg-anonymisation: #e0f0f0;

    /* === BOUTONS D'ACTION - Palette Nuit Élégante === */
    --btn-principal: #032e5c;
    --btn-principal-hover: #054a95;
    --btn-ajouter: #1e5a4a;
    --btn-ajouter-hover: #165040;
    --btn-modifier: #4a3a6a;
    --btn-modifier-hover: #3a2a5a;
    --btn-confirmer: #1e5a4a;
    --btn-confirmer-hover: #165040;
    --btn-annuler: #8a4a2a;
    --btn-annuler-hover: #7a3a1a;
    --btn-supprimer: #8a2a2a;
    --btn-supprimer-hover: #7a1a1a;

    /* === INDICATEURS DE RISQUE === */
    --risque-nul: #065dbb;
    --risque-minimal: #28a745;
    --risque-faible: #90EE90;
    --risque-modere: #ffc107;
    --risque-eleve: #fd7e14;
    --risque-tres-eleve: #dc3545;
    --risque-critique: #721c24;

    /* === COULEURS GRISES === */
    --gris-tres-fonce: #222222;
    --gris-fonce: #333333;
    --gris-moyen: #666666;
    --gris-clair: #999999;
    --gris-tres-clair: #cccccc;
    --gris-tres-pale: #f9f9f9;

    /* === BORDURES === */
    --bordure-claire: #dddddd;
    --bordure-moyenne: #cccccc;

    /* === ALERTES - Attention (orange/terracotta) === */
    --alerte-fond-attention: #fff8f0;
    --alerte-bordure-attention: #ff6b35;
    --alerte-texte-attention: #8a4a2a;

    /* === ALERTES - Information (bleue) === */
    --alerte-fond-information: #e8f2fd;
    --alerte-bordure-information: #032e5c;
    --alerte-texte-information: #032e5c;

    /* === ALERTES - Succès (sarcelle) === */
    --alerte-fond-succes: #e8f5f2;
    --alerte-bordure-succes: #1e5a4a;
    --alerte-texte-succes: #165040;

    /* === ALERTES - Erreur (rouge) === */
    --alerte-fond-erreur: #f8e8e8;
    --alerte-bordure-erreur: #8a2a2a;
    --alerte-texte-erreur: #7a1a1a;

    /* === ÉTATS FORMULAIRES === */
    --etat-erreur-fond: #fff8f0;
    --etat-erreur-bordure: #ff6b35;
    --etat-erreur-texte: #8a4a2a;
    --etat-valide-fond: #e8f5f2;
    --etat-valide-bordure: #1e5a4a;
    --etat-valide-texte: #165040;
    --etat-verrouille-fond: #e9ecef;
    --etat-verrouille-bordure: #6c757d;
    --etat-verrouille-texte: #495057;

    /* === BADGES - Statuts d'évaluation === */
    --badge-evalue-fond: #e8f5f2;
    --badge-evalue-texte: #165040;
    --badge-evalue-bordure: #b3d9cf;
    --badge-non-evalue-fond: #f8f9fa;
    --badge-non-evalue-texte: #6c757d;
    --badge-non-evalue-bordure: #dee2e6;

    /* === ESPACEMENT === */
    --espacement-petit: 10px;
    --espacement-moyen: 20px;
    --espacement-grand: 30px;

    /* === CALENDRIER === */
    --jour-cours-reel-bg: #e3f2fd;
    --reprise-bg: #fff3e0;
    --conge-bg: #ffebee;
    --planification-bg: #f3e5f5;
    --examens-bg: #fce4ec;
    --weekend-bg: #f5f5f5;
}

/* ===============================
   RESET ET BASE
   =============================== */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, sans-serif;
    font-size: 16px;
    line-height: 1.6;
    color: #333;
    background: linear-gradient(135deg, var(--bleu-pale) 0%, var(--bleu-tres-pale) 100%);
    min-height: 100vh;
    padding: 20px;
}

/* ===============================
   CONTENEUR PRINCIPAL
   =============================== */

.conteneur {
    max-width: 1400px;
    margin: 0 auto;
    background: white;
    border-radius: 12px;
    box-shadow: 0 10px 40px rgba(3, 46, 92, 0.1);
    overflow: hidden;
}

/* ===============================
   EN-TÊTE
   =============================== */

.entete {
    background: linear-gradient(135deg, var(--bleu-principal) 0%, var(--bleu-fonce) 100%);
    color: white;
    padding: 30px;
    position: relative;
}

.entete-conteneur {
    display: flex;
    align-items: center;
    gap: 30px;
    max-width: 1400px;
    margin: 0 auto;
}

/* === LOGO ET MÉTADONNÉES === */

.logo-section {
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
}

.logo {
    width: 70px;
    height: 70px;
    background: white;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 10px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

.logo img {
    width: 100%;
    height: 100%;
    object-fit: contain;
}

.logo-meta {
    font-size: 0.85rem;
    color: #9fc5e8;
    text-align: center;
    line-height: 1.2;
    max-width: 200px;
}

/* === TITRE ET DESCRIPTION === */

.titre-section {
    position: absolute;
    left: 50%;
    top: 45%;
    transform: translate(-50%, -50%);
    text-align: center;
    z-index: 1;
}

.titre-section h1 {
    font-size: 2.8rem;
    font-weight: bold;
    margin: 0 0 3px 0;
    letter-spacing: 2px;
    color: white;
}

.titre-section .sous-titre {
    font-size: 1.05rem;
    color: #d0e4f5;
    margin: 0 0 5px 0;
}

.titre-section .meta {
    font-size: 0.7rem;
    color: #9fc5e8;
    margin: 0;
}

/* === INFORMATIONS LÉGALES (à droite) === */

.info-legales-section {
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    justify-content: center;
    margin-left: auto;
}

.info-legales-section .meta {
    font-size: 0.7rem;
    color: #9fc5e8;
    margin: 0;
    text-align: right;
    line-height: 1.6;
}

/* === SÉLECTEUR DE MODE === */

#selecteur-mode {
    margin-top: 15px;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* === RESPONSIVE === */

@media (max-width: 768px) {
    .entete-conteneur {
        flex-direction: column;
        text-align: center;
    }

    .titre-section h1 {
        font-size: 1.8rem;
    }

    .logo-meta {
        max-width: 100%;
    }

    .info-legales-section {
        align-items: center;
        margin-left: 0;
    }

    .info-legales-section .meta {
        text-align: center;
    }
}

/* === FORMULAIRE GROUPE RESPONSIVE === */
.formulaire-ajout-grid {
    display: grid;
    grid-template-columns: 1fr 0.7fr 1.5fr 1.5fr 1fr 0.7fr 0.7fr auto;
    gap: 10px;
    align-items: end;
}

/* Tablette */
@media (max-width: 1200px) {
    .formulaire-ajout-grid {
        grid-template-columns: 1fr 0.7fr 1.5fr 1.5fr 1fr;
        gap: 10px;
    }
}

/* Mobile */
@media (max-width: 768px) {
    .formulaire-ajout-grid {
        grid-template-columns: 1fr 1fr;
        gap: 12px;
    }

    .formulaire-ajout-grid>div:last-child button {
        width: 100%;
    }
}

/* === LIENS DANS L'EN-TÊTE === */

.logo-link {
    display: block;
    text-decoration: none;
    transition: transform 0.2s, opacity 0.2s;
}

.logo-link:hover {
    transform: scale(1.05);
    opacity: 0.9;
}

.logo-link:hover .logo {
    box-shadow: 0 4px 12px rgba(255, 255, 255, 0.3);
}

.site-link {
    color: #d0e4f5;
    text-decoration: none;
    border-bottom: 1px solid transparent;
    transition: all 0.2s;
}

.site-link:hover {
    color: white;
    border-bottom: 1px solid white;
}

.site-link:active {
    color: #9fc5e8;
}

/* ===============================
   NAVIGATION PRINCIPALE
   =============================== */

.navigation-principale {
    background: var(--bleu-principal);
    padding: 0;
    display: flex;
    justify-content: center;
    gap: 0;
    border-bottom: 3px solid var(--bleu-fonce);
}

.navigation-principale button {
    flex: 1;
    padding: 15px 25px;
    background: transparent;
    color: var(--bleu-pale);
    border: none;
    font-size: 0.95rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s;
    border-bottom: 3px solid transparent;
}

.navigation-principale button:hover {
    background: rgba(255, 255, 255, 0.1);
    color: white;
}

.navigation-principale button.actif {
    background: var(--bleu-moyen);
    color: white;
    border-bottom: 3px solid var(--orange-accent);
}

/* ===============================
   SOUS-NAVIGATION
   =============================== */

.sous-navigation {
    background: var(--sous-nav-bg);
    padding: 12px 20px;
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    border-bottom: 1px solid var(--bleu-leger);
}

.sous-navigation button {
    padding: 8px 16px;
    background: white;
    color: var(--sous-nav-normal);
    border: 1px solid var(--bleu-leger);
    border-radius: 6px;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.2s;
}

.sous-navigation button:hover {
    background: var(--bleu-tres-pale);
    border-color: var(--sous-nav-hover);
    color: var(--sous-nav-hover);
}

.sous-navigation button.actif {
    background: var(--sous-nav-actif);
    color: white;
    border-color: var(--sous-nav-actif);
}

.sous-navigation.vide {
    background: transparent;
    padding: 0;
    border: none;
}

.sous-navigation .vide {
    width: 100%;
    padding: 20px;
    text-align: center;
    color: var(--bleu-leger);
    font-style: italic;
}

/* ===============================
   CONTENU PRINCIPAL
   =============================== */

.contenu {
    padding: var(--espacement-grand);
    min-height: 500px;
}

/* ===============================
   SÉLECTEUR DE MODE
   =============================== */

.en-tete {
    position: relative;
}

#selecteur-mode {
    animation: fadeIn 0.3s;
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

/* ===============================
   SECTIONS ET SOUS-SECTIONS
   =============================== */

.section {
    display: none;
}

.section.active {
    display: block;
    animation: apparition 0.3s ease;
}

.sous-section {
    display: none;
}

.sous-section.active {
    display: block;
    animation: apparition 0.3s ease;
}

/* Forcer l'affichage des sous-sections dans réglages */
#section-reglages .sous-section.active {
    display: block !important;
}

@keyframes apparition {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ===============================
   CARTES
   =============================== */

.carte {
    background: white;
    border: 1px solid var(--bleu-pale);
    border-radius: 8px;
    padding: var(--espacement-moyen);
    margin-bottom: var(--espacement-moyen);
    box-shadow: 0 2px 8px rgba(3, 46, 92, 0.05);
}

.carte h3 {
    color: var(--bleu-principal);
    font-size: 1.1rem;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 2px solid var(--bleu-pale);
}

/* Titre avec fond bleu dégradé (comme l'en-tête) */
.carte h3.carte-titre-bleu {
    background: linear-gradient(135deg, var(--bleu-principal) 0%, var(--bleu-fonce) 100%);
    color: white;
    margin: -20px -20px 15px -20px;
    padding: 15px 20px;
    border-bottom: none;
    border-radius: 8px 8px 0 0;
    font-weight: 600;
}

.carte ul,
.carte ol {
    padding-left: 30px;
    margin: 10px 0;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ===============================
   CARTES D'ITEMS (Productions, Congés, etc.)
   =============================== */

.item-carte {
    padding: 12px;
    background: var(--bleu-tres-pale);
    border: 2px solid var(--bleu-leger);
    border-radius: 6px;
    margin-bottom: 10px;
}

.item-carte.item-special {
    background: var(--bleu-carte);
    border-color: var(--bleu-moyen);
}

.item-carte-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.item-carte-titre {
    color: var(--bleu-principal);
    font-weight: 600;
}

.item-carte-actions {
    white-space: nowrap;
    display: flex;
    align-items: center;
    gap: 8px;
}

.item-carte-checkbox {
    display: inline-flex;
    align-items: center;
    margin-left: 10px;
}

.item-carte-checkbox input {
    margin-right: 5px;
}

.item-carte-checkbox span {
    font-size: 0.85rem;
}

.item-carte-grille {
    display: grid;
    gap: 10px;
}

.item-carte-grille-2col {
    grid-template-columns: 1fr 1fr;
}

.item-carte-grille-3col {
    grid-template-columns: 1fr 1fr 1fr;
}

.item-carte-grille-custom {
    grid-template-columns: 1.5fr 1.5fr 1fr;
}

.item-carte-champ {
    /* Conteneur pour un champ */
}

.item-carte-label {
    font-size: 0.75rem;
    color: var(--bleu-moyen);
    display: block;
    margin-bottom: 2px;
}

.item-carte-valeur {
    font-size: 0.85rem;
}

.item-carte-valeur.readonly {
    background: white;
    border: 1px solid var(--bleu-tres-pale);
    border-radius: 4px;
    padding: 6px 10px;
}

.item-carte-valeur.manquant {
    color: var(--rouge);
    font-style: italic;
}

.item-carte-valeur.important {
    font-weight: bold;
    color: var(--vert-leger);
}

.item-carte-footer {
    margin-top: 10px;
    padding-top: 10px;
    border-top: 1px solid var(--bleu-tres-pale);
    font-size: 0.85rem;
}

.item-carte-badge {
    display: inline-block;
    padding: 4px 10px;
    background: white;
    border-radius: 4px;
    font-size: 0.85rem;
    color: var(--bleu-principal);
}

/* Styles spécifiques pour la liste des évaluations */
.conteneur-statistiques {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--espacement-moyen);
    margin-bottom: var(--espacement-grand);
}

.grille-filtres {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--espacement-moyen);
    margin-bottom: var(--espacement-moyen);
}

.etudiant-evaluation-carte {
    margin-bottom: var(--espacement-moyen);
}

.etudiant-header:hover {
    background: var(--bleu-tres-pale);
}

.toggle-icon {
    display: inline-block;
    width: 20px;
    transition: transform 0.2s;
}

.badge-note {
    padding: 4px 8px;
    border-radius: 4px;
    font-weight: bold;
    font-size: 0.9rem;
}

.note-maitrise { background: var(--risque-minimal); color: white; }
.note-intermediaire { background: var(--risque-faible); color: #1a5f1a; }
.note-developpement { background: var(--risque-modere); color: #7a5900; }
.note-base { background: var(--risque-eleve); color: white; }
.note-observation { background: var(--risque-critique); color: white; }

.badge-statut {
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.85rem;
}

.etudiant-details {
    border-top: 1px solid var(--bleu-pale);
    animation: slideDown 0.3s ease;
}

@keyframes slideDown {
    from {
        opacity: 0;
        max-height: 0;
    }
    to {
        opacity: 1;
        max-height: 1000px;
    }
}

/* ===============================
   GRILLES ET STATISTIQUES
   =============================== */

.grille-statistiques {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--espacement-moyen);
    margin-bottom: var(--espacement-grand);
}

.carte-statistique {
    background: var(--bleu-pale);
    border: 1px solid var(--bleu-leger);
    border-radius: 8px;
    padding: var(--espacement-moyen);
    text-align: center;
    box-shadow: 0 3px 6px rgba(3, 46, 92, 0.1);
    transition: all 0.2s ease;
    margin-bottom: var(--espacement-moyen);
}

.carte-statistique:hover {
    box-shadow: 0 4px 8px rgba(3, 46, 92, 0.15);
    background: white;
    transform: translateY(-2px);
}

.carte-statistique .valeur {
    font-size: 2.5rem;
    font-weight: bold;
    color: var(--bleu-principal);
    margin-bottom: 8px;
}

.carte-statistique .label {
    font-size: 0.9rem;
    color: var(--bleu-leger);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* Cartes métriques - petites statistiques */
.carte-metrique {
    background: var(--bleu-carte);
    border: 1px solid var(--bleu-moyen);
    border-radius: 6px;
    padding: 12px 15px;
    text-align: center;
    min-width: 120px;
    box-shadow: 0 2px 4px rgba(3, 46, 92, 0.1);
    transition: all 0.2s ease;
    display: inline-block;
}

.carte-metrique:hover {
    box-shadow: 0 4px 8px rgba(3, 46, 92, 0.2);
    transform: translateY(-1px);
    background: white;
}

.carte-metrique strong {
    display: block;
    font-size: 1.4rem;
    font-weight: bold;
    color: var(--bleu-principal);
    margin-bottom: 4px;
}

.carte-metrique span {
    font-size: 0.85rem;
    color: var(--bleu-moyen);
    font-weight: 500;
}

/* ===============================
   TABLEAUX
   =============================== */

.tableau {
    width: 100%;
    border-collapse: collapse;
    margin: var(--espacement-moyen) 0;
}

.tableau thead {
    background: var(--bleu-pale);
}

.tableau th {
    padding: 12px;
    text-align: left;
    font-weight: 600;
    color: var(--bleu-principal);
    font-size: 0.9rem;
    border-bottom: 2px solid var(--bleu-leger);
}

.tableau td {
    padding: 10px 12px;
    border-bottom: 1px solid var(--bleu-tres-pale);
}

.tableau tbody tr:hover {
    background: var(--bleu-tres-pale);
}

/* ===============================
   ENCADRÉ DE DATE - ÉTATS
   =============================== */

/* Base commune pour tous les encadrés de date */
#enteteDateSeance {
    padding: 16px 24px;
    border-radius: 8px;
    border-width: 2px;
    border-style: solid;
    margin-bottom: 20px;
    text-align: center;
    transition: all 0.3s ease;
    display: none;
    /* Caché par défaut */
}

#enteteDateSeance #texteDateSeance {
    font-size: 1rem;
    line-height: 1.6;
    margin: 0;
}

/* État ERREUR - Jaune */
#enteteDateSeance.etat-erreur {
    background: #fff3cd;
    border-color: #ffc107;
}

#enteteDateSeance.etat-erreur #texteDateSeance {
    color: #856404;
}

/* État VALIDE - Vert */
#enteteDateSeance.etat-valide {
    background: #d4edda;
    border-color: #28a745;
}

#enteteDateSeance.etat-valide #texteDateSeance {
    color: #155724;
}

/* État VERROUILLÉ - Gris */
#enteteDateSeance.etat-verrouille {
    background: #e9ecef;
    border-color: #6c757d;
}

#enteteDateSeance.etat-verrouille #texteDateSeance {
    color: #495057;
}

/* ===============================
   CONTRÔLE DE VERROUILLAGE COMPACT
   =============================== */

.controle-verrouillage {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    margin-left: 15px;
    padding: 4px 12px;
    background: rgba(255, 255, 255, 0.5);
    border-radius: 6px;
    border: 1px solid rgba(0, 0, 0, 0.1);
    font-size: 0.9rem;
    vertical-align: middle;
}

.controle-verrouillage input[type="checkbox"] {
    width: 18px;
    height: 18px;
    cursor: pointer;
    margin: 0;
    accent-color: var(--bleu-principal);
}

.controle-verrouillage label {
    cursor: pointer;
    user-select: none;
    margin: 0;
    font-weight: 500;
    color: inherit;
}

/* Icônes cadenas plus petites */
.controle-verrouillage .icone-cadenas {
    font-size: 0.85rem;
    margin-right: 2px;
}

/* ===============================
   CODES COULEUR POUR SAISIE DES HEURES
   =============================== */

/* Absence complète (0h) - Rouge léger */
input.saisie-absence {
    background-color: #f8d7da !important;
    border-color: #f5c6cb !important;
    color: #721c24 !important;
    font-weight: 600;
}

/* Retard ou absence partielle - Orange/Jaune */
input.saisie-retard {
    background-color: #fff3cd !important;
    border-color: #ffc107 !important;
    color: #856404 !important;
    font-weight: 600;
}

/* Présence complète - Vert léger */
input.saisie-present {
    background-color: #d4edda !important;
    border-color: #c3e6cb !important;
    color: #155724 !important;
    font-weight: 600;
}

/* État par défaut (vide ou non saisi) */
input.saisie-vide {
    background-color: #ffffff;
    border-color: #ced4da;
    color: #495057;
}

/* Transition douce pour les changements de couleur */
input[type="number"].controle-form {
    transition: background-color 0.3s ease, border-color 0.3s ease;
}

/* ===============================
   BADGES DE RISQUE
   =============================== */

.badge-risque {
    display: inline-block;
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 0.85rem;
    font-weight: 500;
}

.risque-nul {
    background: var(--risque-nul);
    color: white;
}

.risque-minimal {
    background: var(--risque-minimal);
    color: white;
}

.risque-faible {
    background: var(--risque-faible);
    color: #1a5f1a;
}

.risque-modere {
    background: var(--risque-modere);
    color: #7a5900;
}

.risque-eleve {
    background: var(--risque-eleve);
    color: white;
}

.risque-tres-eleve {
    background: var(--risque-tres-eleve);
    color: white;
}

.risque-critique {
    background: var(--risque-critique);
    color: white;
}

/* ===============================
   ALERTES ET BOÎTES D'INFORMATION
   =============================== */

.alerte {
    padding: 15px 20px;
    border-radius: 8px;
    border-left: 4px solid;
    margin-bottom: 20px;
    font-size: 0.95rem;
    line-height: 1.6;
}

.alerte-attention {
    background: var(--alerte-fond-attention);
    border-color: var(--alerte-bordure-attention);
    color: var(--alerte-texte-attention);
}

.alerte-attention strong,
.alerte-attention h4 {
    color: var(--alerte-texte-attention);
}

.alerte-information {
    background: var(--alerte-fond-information);
    border-color: var(--alerte-bordure-information);
    color: var(--alerte-texte-information);
}

.alerte-information strong,
.alerte-information h4 {
    color: var(--alerte-texte-information);
}

.alerte-succes {
    background: var(--alerte-fond-succes);
    border-color: var(--alerte-bordure-succes);
    color: var(--alerte-texte-succes);
}

.alerte-succes strong,
.alerte-succes h4 {
    color: var(--alerte-texte-succes);
}

.alerte-erreur {
    background: var(--alerte-fond-erreur);
    border-color: var(--alerte-bordure-erreur);
    color: var(--alerte-texte-erreur);
}

.alerte-erreur strong,
.alerte-erreur h4 {
    color: var(--alerte-texte-erreur);
}

.alerte h4 {
    margin: 0 0 8px 0;
    font-size: 1rem;
    font-weight: 600;
}

.alerte p {
    margin: 8px 0 0 0;
}

.alerte ul {
    margin: 8px 0 0 20px;
}

/* ===============================
   FORMULAIRES
   =============================== */

.groupe-form {
    margin-bottom: var(--espacement-moyen);
}

.groupe-form label {
    display: block;
    margin-bottom: 5px;
    color: var(--bleu-principal);
    font-weight: 500;
    font-size: 0.9rem;
}

.controle-form {
    width: 100%;
    padding: 8px 12px;
    border: 1px solid var(--bleu-leger);
    border-radius: 4px;
    font-size: 0.95rem;
    transition: border-color 0.2s;
}

.controle-form:focus {
    outline: none;
    border-color: var(--bleu-clair);
    box-shadow: 0 0 0 3px rgba(6, 93, 187, 0.1);
}

/* Inputs spéciaux pour saisie de présences */
#tbody-saisie-presences input[type="number"]:placeholder-shown {
    background-color: #fff9e6;
    border: 1px dashed #ffc107;
}

#tbody-saisie-presences input[type="number"]:not(:placeholder-shown) {
    background-color: white;
    border: 1px solid var(--bleu-leger);
}

/* ===============================
   ÉTATS DE VALIDATION FORMULAIRES
   =============================== */

.etat-erreur {
    padding: 16px 24px;
    border-radius: 8px;
    border: 2px solid var(--etat-erreur-bordure);
    background: var(--etat-erreur-fond);
    color: var(--etat-erreur-texte);
    text-align: center;
    transition: all 0.3s ease;
}

.etat-valide {
    padding: 16px 24px;
    border-radius: 8px;
    border: 2px solid var(--etat-valide-bordure);
    background: var(--etat-valide-fond);
    color: var(--etat-valide-texte);
    text-align: center;
    transition: all 0.3s ease;
}

.etat-verrouille {
    padding: 16px 24px;
    border-radius: 8px;
    border: 2px solid var(--etat-verrouille-bordure);
    background: var(--etat-verrouille-fond);
    color: var(--etat-verrouille-texte);
    text-align: center;
    transition: all 0.3s ease;
}

/* ===============================
   BOUTONS
   =============================== */

.btn {
    padding: 10px 20px;
    border: none;
    border-radius: 6px;
    font-size: 0.95rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
}

.btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.btn-principal {
    background: var(--btn-principal);
    color: white;
}

.btn-principal:hover:not(:disabled) {
    background: var(--btn-principal-hover);
}

.btn-ajouter {
    background: var(--btn-ajouter);
    color: white;
}

.btn-ajouter:hover:not(:disabled) {
    background: var(--btn-ajouter-hover);
}

.btn-modifier {
    background: var(--btn-modifier);
    color: white;
}

.btn-modifier:hover:not(:disabled) {
    background: var(--btn-modifier-hover);
}

.btn-confirmer {
    background: var(--btn-confirmer);
    color: white;
}

.btn-confirmer:hover:not(:disabled) {
    background: var(--btn-confirmer-hover);
}

.btn-annuler {
    background: var(--btn-annuler);
    color: white;
}

.btn-annuler:hover:not(:disabled) {
    background: var(--btn-annuler-hover);
}

.btn-supprimer {
    background: var(--btn-supprimer);
    color: white;
}

.btn-supprimer:hover:not(:disabled) {
    background: var(--btn-supprimer-hover);
}

.btn-groupe {
    display: flex;
    gap: 10px;
    margin-top: var(--espacement-moyen);
}

/* ===============================
   MODIFICATEURS DE BOUTONS
   =============================== */

/* Tailles alternatives */
.btn-compact {
    padding: 6px 12px;
    font-size: 0.85rem;
}

.btn-tres-compact {
    padding: 4px 10px;
    font-size: 0.8rem;
}

.btn-large {
    padding: 12px 24px;
    font-size: 1rem;
}

/* ===============================
   RÈGLE ÉPURÉE: TAILLE CONTEXTUELLE
   Approche simple et maintenable
   =============================== */

/* Classe sémantique pour items de liste/cartes */
.item-liste {
    padding: 12px;
    background: white;
    border: 1px solid var(--bleu-leger);
    border-radius: 6px;
    margin-bottom: 10px;
}

/* TOUS les boutons dans un .item-liste sont automatiquement compacts */
.item-liste .btn {
    padding: 6px 12px;
    font-size: 0.85rem;
}

/* Exception: forcer taille normale si besoin */
.item-liste .btn-large {
    padding: 10px 20px;
    font-size: 0.95rem;
}

/* Largeur */
.btn-pleine-largeur {
    width: 100%;
}

.btn-largeur-auto {
    width: auto;
    flex: 1;
}

/* Espacement */
.btn-sans-marge {
    margin: 0;
}

.btn-marge-droite {
    margin-right: 10px;
}

/* ===============================
   MODAUX
   =============================== */

.modal-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 9999;
    overflow-y: auto;
}

.modal-overlay.actif {
    display: block;
}

.modal-contenu {
    max-width: 800px;
    margin: 50px auto;
    background: white;
    border-radius: 12px;
    padding: 30px;
    position: relative;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
}

.modal-contenu.modal-large {
    max-width: 1200px;
}

.modal-contenu.modal-compact {
    max-width: 600px;
    margin: 100px auto;
}

.modal-fermer {
    position: absolute;
    top: 15px;
    right: 15px;
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: var(--gris-moyen);
    transition: color 0.2s;
}

.modal-fermer:hover {
    color: var(--gris-fonce);
}

.modal-titre {
    margin: 0 0 20px 0;
    color: var(--bleu-principal);
    font-size: 1.5rem;
}

.modal-actions {
    display: flex;
    gap: 10px;
    justify-content: flex-end;
    margin-top: 20px;
}

/* ===============================
   LISTES D'ÉLÉMENTS SAUVEGARDÉS
   =============================== */

.liste-vide {
    padding: 20px;
    background: var(--bleu-tres-pale);
    border-radius: 6px;
    text-align: center;
    color: var(--bleu-leger);
}

.element-sauvegarde {
    margin-bottom: 15px;
    padding: 15px;
    background: var(--bleu-tres-pale);
    border-radius: 6px;
    border: 1px solid var(--bleu-leger);
}

.element-sauvegarde-header {
    display: flex;
    justify-content: space-between;
    align-items: start;
    margin-bottom: 10px;
}

.element-sauvegarde-titre {
    margin: 0 0 8px 0;
    color: var(--bleu-principal);
}

.element-sauvegarde-info {
    font-size: 0.9rem;
    color: #666;
}

.element-sauvegarde-date {
    font-size: 0.85rem;
    color: #999;
    margin-top: 5px;
    margin-left: 10px;
}

.element-sauvegarde-source {
    color: var(--orange-accent);
    margin-left: 10px;
    font-size: 0.85rem;
}

/* ===============================
   RÉTROACTIONS
   =============================== */

.retroaction-critere {
    margin-bottom: 15px;
    padding: 10px;
    background: var(--bleu-tres-pale);
    border-left: 3px solid var(--bleu-moyen);
    border-radius: 4px;
}

.retroaction-titre {
    font-weight: 600;
    color: var(--bleu-principal);
}

.retroaction-texte {
    margin-top: 5px;
    margin-bottom: 0;
}

/* ===============================
   NOTIFICATIONS
   =============================== */

.notification-succes {
    position: fixed;
    top: 20px;
    right: 20px;
    padding: 15px 20px;
    background: var(--vert-leger);
    color: white;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    z-index: 9999;
    animation: slideIn 0.3s ease;
}

.notification-details {
    margin-top: 5px;
    font-size: 0.9rem;
    opacity: 0.9;
}

@keyframes slideIn {
    from {
        transform: translateX(400px);
        opacity: 0;
    }

    to {
        transform: translateX(0);
        opacity: 1;
    }
}

/* ===============================
   GRILLES RÉUTILISABLES
   =============================== */

.grille-2-colonnes {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
}

.grille-3-colonnes {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 15px;
}

.grille-4-colonnes {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 15px;
}

.grille-5-colonnes {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 15px;
}

/* Grilles avec colonnes personnalisées */
.grille-filtres {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr 1fr 0.5fr;
    gap: 15px;
    align-items: end;
}

.grille-saisie-presences {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr;
    gap: 20px;
}

.grille-evaluation-principale {
    display: grid;
    grid-template-columns: 320px 1fr;
    gap: 25px;
}

.grille-checkboxes {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 10px;
    padding: 10px;
    background: white;
    border-radius: 4px;
}

/* Variantes d'espacement */
.grille-gap-petit {
    gap: 8px;
}

.grille-gap-moyen {
    gap: 15px;
}

.grille-gap-grand {
    gap: 25px;
}

/* Alignement */
.grille-alignement-fin {
    align-items: end;
}

.grille-alignement-centre {
    align-items: center;
}

/* ===============================
   COMPOSANTS SPÉCIALISÉS
   =============================== */

/* Séparateur horizontal */
.separateur-horizontal {
    margin: 15px 0;
    border: none;
    border-top: 1px solid var(--bordure-claire);
}

/* Boîte note finale */
.boite-note-finale {
    margin-top: 20px;
    padding: 12px;
    background: var(--bleu-tres-pale);
    border-radius: 6px;
    text-align: center;
}

.boite-note-finale .label {
    font-size: 0.85rem;
    color: var(--gris-moyen);
    margin-bottom: 5px;
}

.boite-note-finale .valeur {
    font-size: 2rem;
    font-weight: bold;
    color: var(--bleu-principal);
}

.boite-note-finale .niveau {
    font-size: 1.2rem;
    margin-top: 5px;
    color: var(--gris-moyen);
}

/* Zone de critères d'évaluation */
.zone-criteres {
    padding: 15px;
    background: var(--gris-tres-pale);
    border-radius: 8px;
}

.zone-criteres h4 {
    margin: 0 0 15px 0;
    color: var(--gris-fonce);
}

.zone-criteres .conteneur-liste {
    max-height: 750px;
    overflow-y: auto;
}

/* Zone de rétroaction */
.zone-retroaction {
    padding: 15px;
    background: var(--gris-tres-pale);
    border-radius: 8px;
}

.zone-retroaction-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

.zone-retroaction h4 {
    margin: 0;
    color: var(--gris-fonce);
}

/* Labels de formulaire standardisés */
.label-formulaire {
    display: block;
    margin-bottom: 5px;
    font-weight: 500;
    color: var(--bleu-principal);
    font-size: 0.9rem;
}

/* Conteneur de boutons en groupe */
.groupe-boutons-colonne {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.groupe-boutons-ligne {
    display: flex;
    gap: 8px;
}

/* Indicateur de verrouillage */
.indicateur-verrouillage {
    display: flex;
    align-items: center;
    gap: 8px;
}

.indicateur-verrouillage .icone {
    font-size: 1rem;
    cursor: pointer;
    user-select: none;
}

.indicateur-verrouillage .icone-inactive {
    color: var(--gris-clair);
}

.indicateur-verrouillage .icone-active {
    color: var(--bleu-principal);
}

/* ===============================
   BADGES - Statuts d'évaluation
   =============================== */

.badge-statut {
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 0.85rem;
    font-weight: 500;
    display: inline-block;
    border: 1px solid;
}

.badge-statut.evalue {
    background: var(--badge-evalue-fond);
    color: var(--badge-evalue-texte);
    border-color: var(--badge-evalue-bordure);
}

.badge-statut.non-evalue {
    background: var(--badge-non-evalue-fond);
    color: var(--badge-non-evalue-texte);
    border-color: var(--badge-non-evalue-bordure);
}

/* ===============================
   UTILITAIRES
   =============================== */

.text-muted {
    color: var(--bleu-leger);
    font-size: 0.9rem;
    margin-bottom: var(--espacement-moyen);
}

.texte-centre {
    text-align: center;
}

/* Marges */
.mt-1 {
    margin-top: 10px;
}

.mt-2 {
    margin-top: 20px;
}

.mt-3 {
    margin-top: 30px;
}

.mb-1 {
    margin-bottom: 10px;
}

.mb-2 {
    margin-bottom: 20px;
}

.mb-3 {
    margin-bottom: 30px;
}

/* ===============================
   CALENDRIER (styles spéciaux)
   =============================== */

.cal-jour-cours {
    background: var(--bleu-pale);
}

.cal-jour-cours-reel {
    background: var(--bleu-clair);
    color: white;
    font-weight: bold;
}

.cal-jour-conge {
    background: var(--vert-pale);
}

.cal-jour-evaluation {
    background: var(--orange-accent);
    color: white;
}

/* ===============================
   IMPRESSION
   =============================== */

@media print {
    body {
        background: white;
        padding: 0;
    }

    .navigation-principale,
    .sous-navigation,
    .btn,
    .statut-sauvegarde {
        display: none !important;
    }

    .conteneur {
        box-shadow: none;
        border-radius: 0;
        max-width: 100%;
    }

    .carte {
        break-inside: avoid;
    }

    .entete {
        background: white;
        color: var(--bleu-principal);
        border-bottom: 2px solid var(--bleu-principal);
    }
}

/* ===============================
   RESPONSIVE
   =============================== */

@media (max-width: 768px) {
    body {
        padding: 0;
    }

    .conteneur {
        border-radius: 0;
        margin: 0;
    }

    .navigation-principale {
        flex-wrap: wrap;
    }

    .navigation-principale button {
        flex: 1;
        min-width: 150px;
    }

    .sous-navigation {
        padding: 10px;
    }

    .grille-statistiques {
        grid-template-columns: 1fr;
    }

    .tableau {
        font-size: 0.85rem;
    }

    .tableau th,
    .tableau td {
        padding: 8px 6px;
    }

    .contenu {
        padding: var(--espacement-moyen);
    }

    .carte {
        padding: 15px;
    }
}

@media (max-width: 480px) {
    .entete h1 {
        font-size: 1.5rem;
    }

    .entete h2 {
        font-size: 1rem;
    }

    .navigation-principale button {
        font-size: 0.85rem;
        padding: 12px 15px;
    }

    .carte-statistique .valeur {
        font-size: 2rem;
    }
}

/* ===============================
   PROFIL ÉTUDIANT - REDESIGN
   Layout 2 colonnes + Sections collapsibles
   Inspiré de la page d'évaluation
   =============================== */

/* Layout 2 colonnes principal */
.profil-layout-2col {
    display: grid;
    grid-template-columns: 320px 1fr;
    gap: 20px;
    align-items: start;
    min-height: 600px;
}

/* Colonne gauche (sidebar) */
.profil-sidebar {
    background: var(--bleu-pale);
    border-radius: 8px;
    border: 1px solid var(--bleu-moyen);
    padding: 15px;
    position: sticky;
    top: 20px;
    max-height: calc(100vh - 40px);
    overflow-y: auto;
}

/* En-tête sidebar */
.profil-sidebar-header {
    padding-bottom: 12px;
    border-bottom: 2px solid var(--bleu-moyen);
    margin-bottom: 12px;
}

.profil-sidebar-nom {
    font-size: 1.1rem;
    font-weight: bold;
    color: var(--bleu-principal);
    margin-bottom: 6px;
}

.profil-sidebar-meta {
    font-size: 0.85rem;
    color: #666;
    display: flex;
    flex-direction: column;
    gap: 3px;
}

/* Métriques sidebar (grille compacte 2 colonnes) */
.profil-sidebar-metriques {
    margin: 15px 0;
}

.profil-sidebar-metriques-titre {
    font-size: 0.85rem;
    font-weight: 700;
    color: var(--bleu-principal);
    margin-bottom: 10px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.profil-sidebar-metriques-grille {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px;
}

.metrique-sidebar {
    background: var(--bleu-tres-pale);
    padding: 10px 8px;
    border-radius: 6px;
    text-align: center;
    border-left: 3px solid;
    transition: all 0.2s;
    cursor: default;
}

.metrique-sidebar:hover {
    background: var(--bleu-pale);
}

.metrique-sidebar-valeur {
    font-size: 1.3rem;
    font-weight: bold;
    display: block;
    margin-bottom: 2px;
}

.metrique-sidebar-label {
    font-size: 0.75rem;
    color: var(--bleu-moyen);
    font-weight: 500;
}

/* Navigation sections sidebar avec indices intégrés */
.profil-sidebar-nav {
    margin-top: 15px;
}

.profil-sidebar-nav-titre {
    font-size: 0.85rem;
    font-weight: 700;
    color: var(--bleu-principal);
    margin-bottom: 10px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.profil-nav-item {
    padding: 10px 12px;
    margin-bottom: 6px;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 0.95rem;
    color: #333;
    background: white;
    border: 2px solid #d0e6f7;
    display: flex;
    flex-direction: column;
    gap: 4px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
}

.profil-nav-item:hover {
    background: white;
    border-color: var(--bleu-moyen);
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.12);
    transform: translateY(-1px);
}

.profil-nav-item.actif {
    background: var(--bleu-principal);
    color: white;
    font-weight: 600;
    border-color: var(--bleu-principal);
    box-shadow: 0 3px 8px rgba(0, 82, 204, 0.25);
    transform: translateX(2px);
}

.profil-nav-item.actif:hover {
    background: var(--bleu-moyen);
    box-shadow: 0 4px 10px rgba(0, 82, 204, 0.3);
    transform: translateX(2px) translateY(-1px);
}

/* Ligne principale du nav item */
.profil-nav-item-ligne {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
}

.profil-nav-item-titre {
    display: flex;
    align-items: center;
    gap: 8px;
    flex: 1;
}

.profil-nav-item-valeur {
    font-weight: bold;
    font-size: 0.9rem;
    padding: 2px 8px;
    border-radius: 4px;
    background: rgba(255, 255, 255, 0.15);
}

.profil-nav-item.actif .profil-nav-item-valeur {
    background: rgba(255, 255, 255, 0.25);
}

/* Sous-ligne optionnelle pour détails */
.profil-nav-item-sous-ligne {
    font-size: 0.8rem;
    opacity: 0.7;
    padding-left: 28px;
    display: flex;
    gap: 10px;
}

.profil-nav-item.actif .profil-nav-item-sous-ligne {
    opacity: 0.9;
}

/* Badge interprétatif qualitatif */
.interpretation-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 12px 16px;
    border-radius: 8px;
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 20px;
    border-left: 4px solid;
}

/* Placeholder graphique */
.placeholder-graphique {
    background: var(--bleu-tres-pale);
    border: 2px dashed var(--bleu-pale);
    border-radius: 8px;
    padding: 40px 20px;
    text-align: center;
    color: var(--bleu-moyen);
    font-style: italic;
    margin: 20px 0;
}

.placeholder-graphique-icone {
    font-size: 2.5rem;
    opacity: 0.3;
    margin-bottom: 10px;
}

/* Colonne droite (contenu) */
.profil-contenu {
    background: white;
    border-radius: 8px;
    border: 1px solid var(--bleu-pale);
    padding: 20px;
    min-height: 500px;
}

.profil-contenu-header {
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 2px solid var(--bleu-pale);
}

.profil-contenu-titre {
    font-size: 1.3rem;
    font-weight: bold;
    color: var(--bleu-principal);
    display: flex;
    align-items: center;
    gap: 10px;
}

.profil-contenu-body {
    /* Contenu dynamique */
}

/* Responsive - Layout 2 colonnes */
@media (max-width: 1024px) {
    .profil-layout-2col {
        grid-template-columns: 280px 1fr;
        gap: 15px;
    }

    .profil-sidebar {
        top: 15px;
    }
}

@media (max-width: 768px) {
    .profil-layout-2col {
        grid-template-columns: 1fr;
        gap: 15px;
    }

    .profil-sidebar {
        position: static;
        max-height: none;
    }

    .profil-sidebar-metriques-grille {
        grid-template-columns: repeat(3, 1fr);
    }
}

/* ===============================
   PROFIL ÉTUDIANT - CARTES ET SECTIONS
   (Conservé du redesign précédent)
   =============================== */

/* Métriques compactes pour header du profil */
.metriques-header {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 10px;
    margin-bottom: 20px;
}

.metrique-compacte {
    text-align: center;
    padding: 12px 8px;
    background: var(--bleu-tres-pale);
    border-radius: 6px;
    border: 1px solid var(--bleu-pale);
    transition: all 0.2s;
}

.metrique-compacte:hover {
    background: white;
    box-shadow: 0 2px 6px rgba(3, 46, 92, 0.1);
    transform: translateY(-1px);
}

.metrique-compacte-valeur {
    font-size: 1.5rem;
    font-weight: bold;
    display: block;
    margin-bottom: 4px;
}

.metrique-compacte-label {
    font-size: 0.8rem;
    color: var(--bleu-moyen);
    display: block;
    font-weight: 500;
}

/* Carte premium pour cible d'intervention */
.carte-cible-intervention {
    background: white;
    border: 2px solid;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    transition: box-shadow 0.3s;
}

.carte-cible-intervention:hover {
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
}

.carte-cible-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

.carte-cible-titre {
    font-size: 1.1rem;
    font-weight: bold;
    display: flex;
    align-items: center;
    gap: 10px;
}

.carte-cible-badge-niveau {
    padding: 6px 16px;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: bold;
    color: white;
    white-space: nowrap;
}

.carte-cible-texte-principal {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 12px;
    line-height: 1.4;
}

.carte-cible-meta {
    font-size: 0.9rem;
    color: #666;
    margin-bottom: 10px;
}

.carte-cible-description {
    background: var(--bleu-tres-pale);
    padding: 12px;
    border-radius: 4px;
    font-size: 0.9rem;
    line-height: 1.5;
}

/* Sections collapsibles */
.section-collapsible {
    background: white;
    border: 1px solid var(--bleu-pale);
    border-radius: 6px;
    margin-bottom: 12px;
    overflow: hidden;
}

.section-collapsible-header {
    padding: 15px;
    background: var(--bleu-tres-pale);
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: background 0.2s;
    user-select: none;
}

.section-collapsible-header:hover {
    background: var(--bleu-pale);
}

.section-collapsible-titre {
    font-size: 1rem;
    font-weight: 600;
    color: var(--bleu-principal);
    display: flex;
    align-items: center;
    gap: 8px;
}

.section-collapsible-toggle {
    display: flex;
    align-items: center;
    gap: 5px;
    font-size: 0.85rem;
    color: var(--bleu-moyen);
    font-weight: 500;
}

.section-collapsible-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s ease-in-out;
}

.section-collapsible-content.expanded {
    max-height: 3000px;
    padding: 15px;
    border-top: 1px solid var(--bleu-pale);
}

/* Toggle pour détails techniques */
.toggle-details {
    display: inline-flex;
    align-items: center;
    gap: 5px;
    font-size: 0.85rem;
    color: var(--bleu-moyen);
    cursor: pointer;
    padding: 4px 8px;
    border-radius: 4px;
    transition: background 0.2s;
    user-select: none;
    border: 1px solid transparent;
}

.toggle-details:hover {
    background: var(--bleu-pale);
    border-color: var(--bleu-moyen);
}

.details-techniques {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease;
    opacity: 0;
}

.details-techniques.visible {
    max-height: 800px;
    padding: 15px;
    background: var(--bleu-tres-pale);
    border-radius: 4px;
    margin-top: 10px;
    opacity: 1;
}

/* Chevron rotatif pour toggles */
.chevron {
    display: inline-block;
    transition: transform 0.3s ease;
    font-size: 0.8rem;
}

.chevron.expanded {
    transform: rotate(180deg);
}

/* Responsive - Mobile */
@media (max-width: 768px) {
    .metriques-header {
        grid-template-columns: repeat(2, 1fr);
        gap: 8px;
    }

    .metrique-compacte {
        padding: 10px 6px;
    }

    .metrique-compacte-valeur {
        font-size: 1.3rem;
    }

    .carte-cible-texte-principal {
        font-size: 1.1rem;
    }

    .carte-cible-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
    }

    .section-collapsible-header {
        padding: 12px;
    }
}

/* ===============================
   THÈMES PAR MODE - DÉGRADÉS
   =============================== */

/* MODE NORMAL - Dégradé bleu principal vers bleu foncé */
body[data-mode="normal"] .entete {
    background: linear-gradient(135deg, #032e5c 0%, #0f1e3a 100%);
}

body[data-mode="normal"] .navigation-principale {
    background: var(--bleu-principal);
}

body[data-mode="normal"] .navigation-principale button.actif {
    background: var(--nav-actif-normal);
}

body[data-mode="normal"] .sous-navigation {
    background: var(--sous-nav-bg-normal);
}

body[data-mode="normal"] .sous-navigation button.actif {
    background: var(--bleu-principal);
    color: white;
    border-color: var(--bleu-principal);
}

/* MODE SIMULATION - Dégradé bleu nuit vers noir bleuté */
body[data-mode="simulation"] .entete {
    background: linear-gradient(135deg, #0f1e3a 0%, #071428 100%);
}

body[data-mode="simulation"] .navigation-principale {
    background: var(--bleu-simulation);
}

body[data-mode="simulation"] .navigation-principale button.actif {
    background: var(--nav-actif-simulation);
}

body[data-mode="simulation"] .sous-navigation {
    background: var(--sous-nav-bg-simulation);
}

body[data-mode="simulation"] .sous-navigation button.actif {
    background: var(--bleu-simulation);
    color: white;
    border-color: var(--bleu-simulation);
}

/* MODE ANONYMISATION - Dégradé sarcelle vers sarcelle foncé */
body[data-mode="anonymisation"] .entete {
    background: linear-gradient(135deg, #1a5266 0%, #0d3540 100%);
}

body[data-mode="anonymisation"] .navigation-principale {
    background: var(--bleu-anonymisation);
}

body[data-mode="anonymisation"] .navigation-principale button.actif {
    background: var(--nav-actif-anonymisation);
}

body[data-mode="anonymisation"] .sous-navigation {
    background: var(--sous-nav-bg-anonymisation);
}

body[data-mode="anonymisation"] .sous-navigation button.actif {
    background: var(--bleu-anonymisation);
    color: white;
    border-color: var(--bleu-anonymisation);
}

/* Noms et prénoms en italique en mode anonymisation */
body[data-mode="anonymisation"] .tableau tbody td:nth-child(3),
body[data-mode="anonymisation"] .tableau tbody td:nth-child(4),
body[data-mode="anonymisation"] .etudiant-nom,
body[data-mode="anonymisation"] .profil-sidebar-nom,
body[data-mode="anonymisation"] .etudiant-evaluation-carte h3 {
    font-style: italic;
}

/* ===============================================
   CARTES INFO-TOGGLE (Notes et Conseils)
   Affichage des informations via emojis cliquables
   =============================================== */

/* Emojis cliquables dans les H2 */
.emoji-toggle {
    cursor: pointer;
    margin-left: 10px;
    transition: transform 0.2s ease, opacity 0.3s ease;
    display: inline-block;
    user-select: none;
}

.emoji-toggle:hover {
    transform: scale(1.2);
    opacity: 0.8;
}

.emoji-toggle:active {
    transform: scale(0.95);
}

/* Animation keyframes pour slide-down */
@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
        max-height: 0;
    }
    to {
        opacity: 1;
        transform: translateY(0);
        max-height: 500px;
    }
}

/* Classe de base pour toutes les cartes info-toggle */
.carte-info-toggle {
    padding: 12px;
    border-radius: 6px;
    border-left: 3px solid var(--bleu-moyen);
    font-size: 0.85rem;
    color: #666;
    line-height: 1.6;
    margin-bottom: 20px;
    margin-left: 5%;
    margin-right: 5%;
    position: relative;
    animation: slideDown 0.3s ease-out;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

/* Triangle pointeur vers le haut à droite */
.carte-info-toggle::before {
    content: '';
    position: absolute;
    top: -8px;
    right: 60px;
    width: 0;
    height: 0;
    border-left: 8px solid transparent;
    border-right: 8px solid transparent;
    border-bottom: 8px solid currentColor;
}

/* Variante Note (ℹ️) - Style post-it jaune */
.carte-info-note {
    background: #fffbea;
    border-left-color: #f5c842;
}

.carte-info-note::before {
    color: #fffbea;
}

/* Variante Conseil (💡) - Style vert pratique */
.carte-info-conseil {
    background: #f0fdf4;
    border-left-color: #4ade80;
}

.carte-info-conseil::before {
    color: #f0fdf4;
}

/* Listes à l'intérieur des cartes info-toggle */
.carte-info-toggle ul {
    margin: 0;
    padding-left: 20px;
    line-height: 1.6;
}

.carte-info-toggle strong {
    color: var(--bleu-principal);
}

/* ===============================================
   CARTES MÉTRIQUES - FORMAT STANDARD
   Texte à gauche / Chiffre à droite (réutilisable)
   =============================================== */

/* Grille de disposition des métriques */
.grille-metriques {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
}

/* Carte métrique de base */
.carte-metrique-standard {
    padding: 15px;
    border-radius: 8px;
    border: 2px solid;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.carte-metrique-standard .label {
    font-size: 0.9rem;
    color: #666;
}

.carte-metrique-standard .valeur {
    font-size: 1.8rem;
    font-weight: bold;
}

/* Variantes de couleur */
.carte-metrique-bleue {
    background: var(--bleu-tres-pale);
    border-color: var(--bleu-principal);
}

.carte-metrique-bleue .valeur {
    color: var(--bleu-principal);
}

.carte-metrique-verte {
    background: var(--alerte-fond-succes);
    border-color: var(--btn-confirmer);
}

.carte-metrique-verte .valeur {
    color: var(--btn-confirmer);
}

.carte-metrique-violette {
    background: #f3eeff;
    border-color: var(--btn-modifier);
}

.carte-metrique-violette .valeur {
    color: var(--btn-modifier);
}

.carte-metrique-terracotta {
    background: var(--alerte-fond-attention);
    border-color: var(--btn-annuler);
}

.carte-metrique-terracotta .valeur {
    color: var(--btn-annuler);
}

/* ===============================================
   SELECT MODE D'AFFICHAGE
   Menu déroulant pour changer de mode
   =============================================== */

#selecteur-mode {
    margin-top: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.select-mode {
    padding: 6px 12px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 6px;
    background: rgba(255, 255, 255, 0.15);
    color: white;
    font-size: 0.9rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
    backdrop-filter: blur(5px);
}

.select-mode:hover {
    background: rgba(255, 255, 255, 0.25);
    border-color: rgba(255, 255, 255, 0.5);
}

.select-mode:focus {
    outline: none;
    border-color: rgba(255, 255, 255, 0.7);
    box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);
}

.select-mode option {
    background: var(--bleu-principal);
    color: white;
    padding: 8px;
}

/* ===============================
   CALENDRIER - Vue mensuelle
   =============================== */

/* Conteneur principal du calendrier */
.calendrier-conteneur {
    background: white;
    border-radius: 12px;
    padding: 25px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

/* Titre du mois - Texte blanc sur fond bleu */
.calendrier-titre-mois {
    text-align: center;
    color: white !important;
    background: var(--bleu-principal);
    margin: 0 0 15px 0;
    padding: 10px 15px;
    font-size: 1.1rem;
    font-weight: 600;
    border-radius: 8px;
}

/* Tableau du calendrier */
.calendrier-tableau {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
}

/* Cellules de jours du calendrier */
.jour-calendrier {
    text-align: center;
    padding: 8px 4px;
    position: relative;
    transition: opacity 0.15s ease;
    min-height: 50px;
    vertical-align: top;
    border: 2px solid #e8e8e8;
}


/* ===============================================
   SYSTÈME DE LAYOUT SIDEBAR 2 COLONNES (Beta 0.80.2+)
   Design épuré, efficace et uniforme

   USAGE : Cartouches, Productions, Grilles, Échelles
   PATTERN : Sidebar navigation + Zone principale
   =============================================== */

/* ----------------
   Layout principal
   ---------------- */

/**
 * Layout 2 colonnes avec sidebar sticky
 * Utilisé pour : Cartouches, Productions, Grilles, Échelles
 *
 * Structure HTML attendue :
 * <div class="layout-sidebar-2col">
 *   <div class="sidebar-navigation">...</div>
 *   <div class="zone-principale">...</div>
 * </div>
 *
 * Alias : .layout-cartouches-2col (rétrocompatibilité)
 */

.layout-cartouches-2col,
.layout-sidebar-2col {
    display: grid;
    grid-template-columns: 280px 1fr;
    gap: 20px;
    align-items: start;
}

.sidebar-cartouches,
.sidebar-navigation {
    position: sticky;
    top: 20px;
    max-height: calc(100vh - 100px);
    overflow-y: auto;
    background: #f5f5f5;
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.08);
}

.item-cartouche-banque,
.sidebar-item {
    padding: 12px;
    background: #e8f2fd;
    border-radius: 6px;
    border: 1px solid #6b85b3;
    margin-bottom: 8px;
    cursor: pointer;
    transition: all 0.15s ease;
}

.item-cartouche-banque:hover,
.sidebar-item:hover {
    border-color: #2a4a8a;
    box-shadow: 0 2px 6px rgba(3, 46, 92, 0.15);
}

.item-cartouche-banque.active,
.sidebar-item.active {
    border: 2px solid #032e5c;
    background: linear-gradient(135deg, #e8f2fd 0%, #d0e5f8 100%);
    box-shadow: 0 3px 10px rgba(3, 46, 92, 0.25);
}

.nom-cartouche,
.sidebar-item-titre {
    font-weight: 600;
    font-size: 0.95rem;
    color: #032e5c;
    margin-bottom: 6px;
}

.badge-grille,
.sidebar-item-badge {
    display: inline-block;
    background: linear-gradient(135deg, #032e5c 0%, #2a4a8a 100%);
    color: white;
    padding: 3px 10px;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 500;
    margin-bottom: 8px;
    box-shadow: 0 1px 3px rgba(3, 46, 92, 0.3);
}

.actions-cartouche,
.sidebar-item-actions {
    display: flex;
    gap: 4px;
    margin-top: 6px;
}

.actions-cartouche .btn-icone,
.sidebar-item-actions .btn-icone {
    background: white;
    border: 1px solid #6b85b3;
    font-size: 0.8rem;
    padding: 4px 10px;
    cursor: pointer;
    border-radius: 4px;
    color: #032e5c;
    font-weight: 500;
    transition: all 0.15s;
}

.actions-cartouche .btn-icone:first-child:hover,
.sidebar-item-actions .btn-icone:first-child:hover {
    background: #4a3a6a;
    color: white;
    border-color: #4a3a6a;
}

.actions-cartouche .btn-icone:last-child:hover,
.sidebar-item-actions .btn-icone:last-child:hover {
    background: #8a2a2a;
    color: white;
    border-color: #8a2a2a;
}

.btn-ajouter-cartouche,
.sidebar-btn-ajouter {
    width: 100%;
    margin-top: 15px;
    padding: 11px 14px;
    background: linear-gradient(135deg, #1e5a4a 0%, #165040 100%);
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.95rem;
    font-weight: 600;
    box-shadow: 0 2px 6px rgba(30, 90, 74, 0.3);
    transition: all 0.15s;
}

.btn-ajouter-cartouche:hover,
.sidebar-btn-ajouter:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 10px rgba(30, 90, 74, 0.4);
}

.zone-centrale-cartouche,
.zone-principale {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.accordeon-import,
.section-accordeon {
    background: white;
    border-radius: 8px;
    padding: 15px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.08);
}

.panneau-import,
.accordeon-contenu {
    padding: 15px;
    background: #fafafa;
}

.banque-vide,
.sidebar-vide {
    text-align: center;
    padding: 20px 10px;
    color: #999;
    font-style: italic;
    font-size: 0.85rem;
}

.checkboxes-import-partiel,
.liste-checkboxes {
    display: flex;
    flex-direction: column;
    gap: 6px;
    margin: 10px 0;
}

#listeCartouchesBanque,
.sidebar-liste {
    margin: 15px 0;
}

.filtre-grille-cartouche,
.sidebar-filtre {
    margin-bottom: 15px;
}

/* === MATRICE DE COMMENTAIRES EN TABLEAU === */
.matrice-tableau {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    box-shadow: 0 1px 3px rgba(0,0,0,0.08);
}

.matrice-tableau thead {
    background: linear-gradient(135deg, #032e5c 0%, #2a4a8a 100%);
    color: white;
}

.matrice-tableau th {
    padding: 12px;
    text-align: center;
    font-weight: 600;
    font-size: 0.9rem;
}

.matrice-tableau th:first-child {
    text-align: left;
    background: #032e5c;
}

.matrice-tableau th .niveau-code {
    display: block;
    font-size: 1.1rem;
    font-weight: 700;
    margin-bottom: 2px;
}

.matrice-tableau th .niveau-label {
    display: block;
    font-size: 0.8rem;
    font-weight: 400;
    opacity: 0.9;
}

.matrice-tableau tbody tr:nth-child(odd) {
    background: #f9f9f9;
}

.matrice-tableau tbody tr:nth-child(even) {
    background: #ffffff;
}

.matrice-tableau td {
    padding: 10px;
    border: 1px solid #ddd;
}

.matrice-tableau td:first-child {
    font-weight: 600;
    color: #032e5c;
    background: #e8f2fd;
    white-space: nowrap;
}

.matrice-tableau textarea {
    width: 100%;
    min-height: 80px;
    padding: 8px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 0.85rem;
    font-family: inherit;
    resize: vertical;
}

.matrice-tableau textarea:focus {
    outline: none;
    border-color: #6b85b3;
    background: #f0f8ff;
}

.matrice-tableau textarea::placeholder {
    color: #999;
    font-style: italic;
}

/* === CARTES MÉTRIQUES INDIVIDUELLES === */
.cartes-metriques {
    display: flex;
    gap: 15px;
    margin: 0 0 20px 0;
    flex-wrap: wrap;
}

.carte-metrique {
    flex: 1;
    min-width: 200px;
    padding: 15px 20px;
    background: white;
    border: 1px solid #6b85b3;
    border-radius: 8px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.carte-metrique .label {
    font-size: 0.9rem;
    color: #032e5c;
    font-weight: 500;
}

.carte-metrique .valeur {
    font-size: 1.8rem;
    color: #032e5c;
    font-weight: 700;
}
